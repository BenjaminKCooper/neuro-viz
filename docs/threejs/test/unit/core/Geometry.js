function getGeometryByParams(e,t,r,a,o,i,n,s,c){var d=new THREE.Geometry;return d.vertices=[new THREE.Vector3(e,t,r),new THREE.Vector3(a,o,i),new THREE.Vector3(n,s,c)],d}function getGeometry(){return getGeometryByParams(-.5,0,0,.5,0,0,0,1,0)}module("Geometry"),test("rotateX",function(){var e=getGeometry(),t=new THREE.Matrix4;t.makeRotationX(Math.PI/2),e.applyMatrix(t);var r=e.vertices[0],a=e.vertices[1],o=e.vertices[2];ok(r.x===-.5&&0===r.y&&0===r.z,"first vertex was rotated"),ok(.5===a.x&&0===a.y&&0===a.z,"second vertex was rotated"),ok(0===o.x&&o.y<Number.EPSILON&&1===o.z,"third vertex was rotated")}),test("rotateY",function(){var e=getGeometry(),t=new THREE.Matrix4;t.makeRotationY(Math.PI),e.applyMatrix(t);var r=e.vertices[0],a=e.vertices[1],o=e.vertices[2];ok(.5===r.x&&0===r.y&&r.z<Number.EPSILON,"first vertex was rotated"),ok(a.x===-.5&&0===a.y&&a.z<Number.EPSILON,"second vertex was rotated"),ok(0===o.x&&1===o.y&&0===o.z,"third vertex was rotated")}),test("rotateZ",function(){var e=getGeometry(),t=new THREE.Matrix4;t.makeRotationZ(Math.PI/2*3),e.applyMatrix(t);var r=e.vertices[0],a=e.vertices[1],o=e.vertices[2];ok(r.x<Number.EPSILON&&.5===r.y&&0===r.z,"first vertex was rotated"),ok(a.x<Number.EPSILON&&a.y===-.5&&0===a.z,"second vertex was rotated"),ok(1===o.x&&o.y<Number.EPSILON&&0===o.z,"third vertex was rotated")}),test("fromBufferGeometry",function(){var e=new THREE.BufferGeometry;e.addAttribute("position",new THREE.BufferAttribute(new Float32Array([1,2,3,4,5,6,7,8,9]),3)),e.addAttribute("color",new THREE.BufferAttribute(new Float32Array([0,0,0,.5,.5,.5,1,1,1]),3)),e.addAttribute("normal",new THREE.BufferAttribute(new Float32Array([0,1,0,1,0,1,1,1,0]),3)),e.addAttribute("uv",new THREE.BufferAttribute(new Float32Array([0,0,0,1,1,1]),2)),e.addAttribute("uv2",new THREE.BufferAttribute(new Float32Array([0,0,0,1,1,1]),2));var t=(new THREE.Geometry).fromBufferGeometry(e),r=t.colors;ok(0===r[0].r&&0===r[0].g&&0===r[0].b&&.5===r[1].r&&.5===r[1].g&&.5===r[1].b&&1===r[2].r&&1===r[2].g&&1===r[2].b,"colors were created well");var a=t.vertices;ok(1===a[0].x&&2===a[0].y&&3===a[0].z&&4===a[1].x&&5===a[1].y&&6===a[1].z&&7===a[2].x&&8===a[2].y&&9===a[2].z,"vertices were created well");var o=t.faces[0].vertexNormals;ok(0===o[0].x&&1===o[0].y&&0===o[0].z&&1===o[1].x&&0===o[1].y&&1===o[1].z&&1===o[2].x&&1===o[2].y&&0===o[2].z,"vertex normals were created well")}),test("normalize",function(){var e=getGeometry();e.computeLineDistances();var t=e.lineDistances;ok(0===t[0],"distance to the 1st point is 0"),ok(t[1]===1+t[0],"distance from the 1st to the 2nd is sqrt(2nd - 1st) + distance - 1"),ok(t[2]===Math.sqrt(1.25)+t[1],"distance from the 1st to the 3nd is sqrt(3rd - 2nd) + distance - 1")});