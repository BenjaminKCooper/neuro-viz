module("AddObjectCommandAndRemoveObjectCommand"),test("Test AddObjectCommand and RemoveObjectCommand (Undo and Redo)",function(){var e=new Editor,d=aBox("The Box"),n=aPointlight("The PointLight"),o=aPerspectiveCamera("The Camera"),a=[d,n,o];a.map(function(d){var n=new AddObjectCommand(d);n.updatable=!1,e.execute(n),ok(1==e.scene.children.length,"OK, adding '"+d.type+"' was successful "),e.undo(),ok(0==e.scene.children.length,"OK, adding '"+d.type+"' is undone (was removed)"),e.redo(),ok(e.scene.children[0].name==d.name,"OK, removed '"+d.type+"' was added again (redo)"),ok(e.selected==d,"OK, focus was set on recovered object after Add-Redo");var n=new RemoveObjectCommand(d);n.updatable=!1,e.execute(n),ok(0==e.scene.children.length,"OK, removing object was successful"),e.undo(),ok(e.scene.children[0].name==d.name,"OK, removed object was added again (undo)"),ok(e.selected==d,"OK, focus was set on recovered object after Delete-Undo"),e.redo(),ok(0==e.scene.children.length,"OK, object was removed again (redo)")})});