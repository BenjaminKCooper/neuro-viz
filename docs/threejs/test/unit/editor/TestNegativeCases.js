module("NegativeCases"),test("Test unwanted situations ",function(){var o=new Editor;o.undo(),ok(0==o.history.undos.length,"OK, (illegal) undo did not affect the undo history"),ok(0==o.history.redos.length,"OK, (illegal) undo did not affect the redo history"),o.redo(),ok(0==o.history.undos.length,"OK, (illegal) redo did not affect the undo history"),ok(0==o.history.redos.length,"OK, (illegal) redo did not affect the redo history");var e=aBox(),t=new AddObjectCommand(e);t.updatable=!1,o.execute(t),ok(1==o.history.undos.length,"OK, execute changed undo history"),ok(0==o.history.redos.length,"OK, execute did not change redo history"),o.redo(),ok(1==o.history.undos.length,"OK, (illegal) redo did not affect the undo history"),ok(0==o.history.redos.length,"OK, (illegal) redo did not affect the redo history"),o.undo(),ok(0==o.history.undos.length,"OK, undo changed the undo history"),ok(1==o.history.redos.length,"OK, undo changed the redo history"),o.undo(),ok(0==o.history.undos.length,"OK, (illegal) undo did not affect the undo history"),ok(1==o.history.redos.length,"OK, (illegal) undo did not affect the redo history"),o.redo(),ok(1==o.history.undos.length,"OK, redo changed the undo history"),ok(0==o.history.redos.length,"OK, undo changed the redo history"),o.redo(),ok(1==o.history.undos.length,"OK, (illegal) did not affect the undo history"),ok(0==o.history.redos.length,"OK, (illegal) did not affect the redo history")});