<!DOCTYPE html><html lang="en"><head>
		<title>three.js - raytracing renderer with web workers</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				font-family: Monospace;
				color: #ffffff;
				margin: 0px;
				padding: 0px;
			}
		</style>
	</head>
	<body>
		<script src="../build/three.js"></script>
		<script src="js/renderers/RaytracingRenderer.js"></script>

		<script>function initScene(e,n){camera=new THREE.PerspectiveCamera(60,e/n,1,1e3),camera.position.z=600,scene=new THREE.Scene;var o=new THREE.MeshPhongMaterial({color:16777215,specular:2236962,shininess:150,vertexColors:THREE.NoColors,shading:THREE.SmoothShading}),r=new THREE.MeshPhongMaterial({color:16777215,specular:1118481,shininess:100,vertexColors:THREE.NoColors,shading:THREE.FlatShading}),s=new THREE.MeshPhongMaterial({color:6710886,specular:1118481,shininess:100,vertexColors:THREE.NoColors,shading:THREE.FlatShading}),t=new THREE.MeshPhongMaterial({color:10027008,specular:1118481,shininess:100,vertexColors:THREE.NoColors,shading:THREE.FlatShading}),a=new THREE.MeshPhongMaterial({color:26367,specular:1118481,shininess:100,vertexColors:THREE.NoColors,shading:THREE.FlatShading}),i=new THREE.MeshPhongMaterial({color:0,specular:16746632,shininess:1e4,vertexColors:THREE.NoColors,shading:THREE.FlatShading});i.mirror=!0,i.reflectivity=1;var l=new THREE.MeshPhongMaterial({color:0,specular:11184810,shininess:1e4,vertexColors:THREE.NoColors,shading:THREE.FlatShading});l.mirror=!0,l.reflectivity=1;var E=new THREE.MeshPhongMaterial({color:16755200,specular:2236962,shininess:1e4,vertexColors:THREE.NoColors,shading:THREE.SmoothShading});E.mirror=!0,E.reflectivity=.3;var h=new THREE.MeshPhongMaterial({color:0,specular:65280,shininess:1e4,vertexColors:THREE.NoColors,shading:THREE.FlatShading});h.glass=!0,h.reflectivity=.5;var c=new THREE.MeshPhongMaterial({color:0,specular:16755285,shininess:1e4,vertexColors:THREE.NoColors,shading:THREE.SmoothShading});c.glass=!0,c.reflectivity=.25,c.refractionRatio=.6;var d=(new THREE.TorusKnotGeometry(150),new THREE.SphereGeometry(100,16,8)),p=new THREE.BoxGeometry(600,5,600),R=new THREE.BoxGeometry(100,100,100);sphere=new THREE.Mesh(d,o),sphere.scale.multiplyScalar(.5),sphere.position.set(-50,-245,-50),scene.add(sphere),objects.push(sphere),sphere2=new THREE.Mesh(d,E),sphere2.scale.multiplyScalar(.5),sphere2.position.set(175,-245,-150),scene.add(sphere2),objects.push(sphere2),box=new THREE.Mesh(R,i),box.position.set(-175,-247.5,-150),box.rotation.y=.5,scene.add(box),objects.push(box),glass=new THREE.Mesh(d,c),glass.scale.multiplyScalar(.5),glass.position.set(75,-245,-75),glass.rotation.y=.5,scene.add(glass),plane=new THREE.Mesh(p,s),plane.position.set(0,-297.5,-300),scene.add(plane),plane=new THREE.Mesh(p,r),plane.position.set(0,297.5,-300),scene.add(plane),plane=new THREE.Mesh(p,r),plane.rotation.x=1.57,plane.position.set(0,0,-300),scene.add(plane),plane=new THREE.Mesh(p,l),plane.rotation.x=1.57,plane.position.set(0,0,-290),plane.scale.multiplyScalar(.85),scene.add(plane),plane=new THREE.Mesh(p,t),plane.rotation.z=1.57,plane.position.set(-300,0,-300),scene.add(plane),plane=new THREE.Mesh(p,a),plane.rotation.z=1.57,plane.position.set(300,0,-300),scene.add(plane);var g=7e4,H=new THREE.PointLight(16755285,g);H.position.set(-200,100,100),H.physicalAttenuation=!0,scene.add(H);var H=new THREE.PointLight(5614335,g);H.position.set(200,100,100),H.physicalAttenuation=!0,scene.add(H);var H=new THREE.PointLight(16777215,1.5*g);H.position.set(0,0,300),H.physicalAttenuation=!0,scene.add(H)}function init(){container=document.createElement("div"),document.body.appendChild(container),info=document.createElement("div"),info.style.position="absolute",info.style.top="10px",info.style.width="100%",info.style.zIndex="100",info.style.textAlign="center",container.appendChild(info),updateWorkers(),initScene(window.innerWidth,window.innerHeight),renderer=new THREE.RaytracingRenderer({workers:WORKERS,workerPath:"js/renderers/RaytracingWorker.js",randomize:!0,blockSize:64}),renderer.setClearColor(15790320),renderer.setSize(window.innerWidth,window.innerHeight),renderer.domElement.style.position="absolute",renderer.domElement.style.top="0px",renderer.domElement.style.left="0px",container.appendChild(renderer.domElement),window.addEventListener("resize",function(e){renderer.setSize(innerWidth,innerHeight)})}function updateWorkers(e){e&&(WORKERS=Math.max(1,WORKERS+e),renderer.setWorkers(WORKERS)),info.innerHTML='<a href="http://threejs.org" target="_blank">three.js<a/> - raytracing renderer (using '+WORKERS+' <button onclick="updateWorkers(-1)">-</button><button onclick="updateWorkers(1)">+</button> web workers)<br/><button onclick="rearrange()">Rearrange</button><button onclick="render()">Render</button>'}function rearrange(){objects.forEach(function(e){e.position.y+=100*(Math.random()-.5),e.position.x+=400*(Math.random()-.5),e.position.z+=400*(Math.random()-.5)})}function render(){renderer.render(scene,camera)}var hash=location.hash?location.hash.substring(1):"3",WORKERS=+hash||navigator.hardwareConcurrency||3,container,info,camera,controls,scene,renderer,torus,cube,objects=[];init(),render();</script>

	

</body></html>