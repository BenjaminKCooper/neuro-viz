!function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var c=n[r]={exports:{}};t[r][0].call(c.exports,function(e){var n=t[r][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){function i(e){var t=[];this.do=function(e){t.push(e)},this.undo=function(e){t.splice(t.indexOf(e),1)},this.fire=function(){for(var n=0;n<t.length;n++)t[n].apply(e,arguments)}}"object"==typeof t&&(t.exports=i)},{}],2:[function(e,t,n){t.exports={name:"timeliner_gui",version:"0.0.2",description:"Timeliner GUI",main:"timeliner.js",scripts:{build:"browserify src/*.js --full-path=false -o timeliner_gui.js",mini:"browserify src/*.js -g uglifyify --full-path=false -o timeliner_gui.min.js",watch:"watchify src/*.js -o timeliner_gui.js -v",start:"npm run watch",test:'echo "Error: no tests :(" && exit 1'},repository:{type:"git",url:"https://github.com/tschw/timeliner_gui.git"},keywords:["timeline","animation","keyframe","controls","gui"],author:"tschw (the fork)",contributors:["Joshua 'zz85' Koo (original author)"],license:"MIT",bugs:{url:"https://github.com/tschw/timeliner_gui/issues"},homepage:"https://github.com/tschw/timeliner_gui",devDependencies:{"do.js":"^1.0.0",uglifyify:"^2.6.0"}}},{}],3:[function(e,t,n){function i(){function e(e,t){e in n||(n[e]=[]);var i=n[e];i.push(t)}function t(e){var t=Array.prototype.slice.call(arguments);t.shift();var i=n[e];if(i)for(var o=0;o<i.length;o++){var a=i[o];a.apply(a,t)}}var n={};this.on=e,this.fire=t}t.exports=i},{}],4:[function(e,t,n){function i(e){function t(){p.fire("update.scale",6*Math.pow(100,L.value))}function n(){var t=e.controller.getChannelNames(),n=e.currentTime;y.setValue(n),w.setValue(e.totalTime),y.paint(),w.paint();for(var i=T.length;i-- >0;)i>=t.length?(T[i].dom.style.display="none",M.push(T.pop())):(T[i].setState(t[i]),T[i].repaint(n))}var i=document.createElement("div"),d=document.createElement("div");d.style.cssText="margin: 0px; top: 0; left: 0; height: "+o.MARKER_TRACK_HEIGHT+"px";var c=document.createElement("div");s(c,{position:"absolute",top:o.MARKER_TRACK_HEIGHT+"px",left:0,right:0,bottom:0,overflow:"hidden"}),i.appendChild(c);var u=!1,h={width:"22px",height:"22px",padding:"2px"},C={width:"32px",padding:"3px 4px 3px 4px"},p=e.dispatcher,f=(e.controller,new r(16,"play","Play",p));s(f.dom,h,{marginTop:"2px"}),f.onClick(function(e){e.preventDefault(),p.fire("controls.toggle_play")});var m=new r(16,"stop","Stop",p);s(m.dom,h,{marginTop:"2px"}),m.onClick(function(e){p.fire("controls.stop")});var L=document.createElement("input");L.type="range",L.value=0,L.min=-1,L.max=1,L.step=.125,s(L,{width:"80px",margin:"0px",marginLeft:"2px",marginRight:"2px"});var v=0;L.addEventListener("mousedown",function(){v=1}),L.addEventListener("mouseup",function(){v=0,t()}),L.addEventListener("mousemove",function(){v&&t()}),i.appendChild(d);var g={min:0,step:.125},y=new l(g),w=new l(g);y.onChange.do(function(e,t){p.fire("time.update",e),y.paint()}),w.onChange.do(function(e,t){p.fire("totalTime.update",e),w.paint()}),d.appendChild(y.dom),d.appendChild(document.createTextNode("/")),d.appendChild(w.dom),d.appendChild(f.dom),d.appendChild(m.dom),d.appendChild(L);var x=document.createElement("div");s(x,{marginTop:"4px"}),d.appendChild(x);var E=new r(16,"download_alt","Download animation",p);s(E.dom,C),x.appendChild(E.dom),E.onClick(function(){p.fire("export")});var b=new r(16,"upload_alt","Upload animation",p);s(b.dom,C),x.appendChild(b.dom),b.onClick(function(){p.fire("openfile")});var T=[],M=[];this.layers=T,this.setControlStatus=function(e){u=e,u?(f.setIcon("pause"),f.setTip("Pause")):(f.setIcon("play"),f.setTip("Play"))},this.updateState=function(){var t,n,i=e.controller.getChannelNames();for(t=0;t<i.length;t++){if(n=i[t],!T[t]){var o;M.length?(o=M.pop(),o.dom.style.display="block"):(o=new a(e,n),c.appendChild(o.dom)),T.push(o)}T[t].setState(n)}},this.repaint=n,this.updateState(),this.scrollTo=function(e){c.scrollTop=e*(c.scrollHeight-c.clientHeight)},this.dom=i,n()}var o=e("./layout_constants"),a=e("./layer_view"),r=e("./widget/icon_button"),s=e("./utils").style,l=(e("./theme"),e("./utils").STORAGE_PREFIX,e("./widget/number"));t.exports=i},{"./layer_view":5,"./layout_constants":6,"./theme":7,"./utils":11,"./widget/icon_button":13,"./widget/number":14}],5:[function(e,t,n){function i(e,t){var n=document.createElement("div"),i=document.createElement("span");i.style.cssText="font-size: 12px; padding: 4px;";var s=a.LINE_HEIGHT-1,l=document.createElement("button");l.innerHTML="&#9672;",l.style.cssText="background: none; font-size: 12px; padding: 0px; font-family: monospace; float: right; width: 20px; height: "+s+"px; border-style:none; outline: none;",l.addEventListener("click",function(n){e.dispatcher.fire("keyframe",t)}),n.appendChild(i),n.appendChild(l),n.style.cssText="margin: 0px; border-bottom:1px solid "+o.b+"; top: 0; left: 0; height: "+s+"px; line-height: "+s+"px; color: "+o.c,this.dom=n;var d=function(n){if(l.style.color=o.b,null!=n&&!e.draggingKeyframe&&null!=t){var i=e.controller.getChannelKeyTimes(t);r.binarySearch(i,n)>=0&&(l.style.color=o.c)}};this.repaint=d,this.setState=function(e){t=e,i.textContent=e,d()}}var o=e("./theme"),a=e("./layout_constants"),r=e("./utils");t.exports=i},{"./layout_constants":6,"./theme":7,"./utils":11}],6:[function(e,t,n){t.exports={LINE_HEIGHT:26,DIAMOND_SIZE:10,MARKER_TRACK_HEIGHT:60,WIDTH:600,HEIGHT:200,LEFT_PANE_WIDTH:250,TIME_SCALE:60}},{}],7:[function(e,t,n){t.exports={a:"#343434",b:"#535353",c:"#b8b8b8",d:"#d6d6d6"}},{}],8:[function(e,t,n){function i(){var e=60;a=f/e,r=2*a,s=8*a}function o(e){function t(t,i,o){var a=this,r=!1;this.time=t,this.path=function(e){e.beginPath().moveTo(i,o).lineTo(i+C/2,o+C/2).lineTo(i,o+C).lineTo(i-C/2,o+C/2).closePath()},this.paint=function(e){a.path(e),r?e.fillStyle("yellow"):e.fillStyle(d.c),e.fill().stroke()},this.mouseover=function(){r=!0,R.style.cursor="move",a.paint(N)},this.mouseout=function(){r=!1,R.style.cursor="default",a.paint(N)},this.mousedrag=function(t,i){if(void 0!==D){var o=x(t.offsetx),a=Math.max(o-X,-X),r=i.shiftKey;a&&(e.draggingKeyframe=!0,e.controller.moveKeyframe(D,X,a,r),X+=a,n())}}}function n(){F=!0}function o(){for(j.length=0,W=0,z=M.length;z>=W;W++)Z.strokeStyle=d.b,Z.beginPath(),A=W*h,A=~~A-.5,N.moveTo(0,A).lineTo(width,A).stroke();for(W=0;z>W;W++){var n=M[W],i=e.controller.getChannelKeyTimes(n);A=W*h;for(var o=0;o<i.length;o++){var a=i[o];j.push(new t(a,E(a),A+.5*h-C/2))}}for(W=0,z=j.length;z>W;W++){var r=j[W];r.paint(N)}}function l(){var t=width,n=e.totalTime,i=t/f,o=t/n;Y.k=o,Y.grip_length=i*o;var a=O;Y.left=e.scrollTime*o,Y.left=Math.min(Math.max(0,Y.left),t-Y.grip_length),Z.beginPath(),Z.fillStyle=d.b,Z.rect(0,5,t,a),Z.fill(),Z.fillStyle=d.c,Z.beginPath(),Z.rect(Y.left,5,Y.grip_length,a),Z.fill();var r=P*o;Z.fillStyle="red",Z.fillRect(0,5,r,2)}function L(e){f!==e&&(f=e,i())}function v(){var e,t=G;for(G=null,W=j.length;W-- >0;)if(e=j[W],e.path(N),Z.isPointInPath(J.x*H,J.y*H)){G=e;break}t&&t!=G&&(e=t,e.mouseout&&e.mouseout()),G&&(e=G,e.mouseover&&e.mouseover(),V&&(U=e))}function g(){J&&N.save().scale(H,H).translate(0,p).beginPath().rect(0,0,e.width,e.scrollHeight).translate(-S,-k).clip().run(v).restore()}function y(){if(!F)return void g();L(e.timeScale),P=e.currentTime,m=e.scrollTime,Z.fillStyle=d.a,Z.clearRect(0,0,R.width,R.height),Z.save(),Z.scale(H,H),Z.lineWidth=1,width=e.width,height=e.height;var t=f/a,n=m*f%t,i=(width-K+n)/t;for(W=0;i>W;W++){I=W*t+K-n,Z.strokeStyle=d.b,Z.beginPath(),Z.moveTo(I,0),Z.lineTo(I,height),Z.stroke(),Z.fillStyle=d.d,Z.textAlign="center";var u=(W*t-n)/f+m;u=c.format_friendly_seconds(u),Z.fillText(u,I,38)}for(t=f/r,i=(width-K+n)/t,W=0;i>W;W++)Z.strokeStyle=d.c,Z.beginPath(),I=W*t+K-n,Z.moveTo(I,p-0),Z.lineTo(I,p-16),Z.stroke();var h=s/r;for(t=f/s,i=(width-K+n)/t,W=0;i>W;W++)W%h!==0&&(Z.strokeStyle=d.c,Z.beginPath(),I=W*t+K-n,Z.moveTo(I,p-0),Z.lineTo(I,p-10),Z.stroke());N.save().translate(0,p).beginPath().rect(0,0,e.width,e.scrollHeight).translate(-S,-k).clip().run(o).restore(),l(),Z.strokeStyle="red",I=(P-m)*f+K;var C=c.format_friendly_seconds(P),v=Z.measureText(C).width,y=p-5,w=v/2+4;Z.beginPath(),Z.moveTo(I,y),Z.lineTo(I,height),Z.stroke(),Z.fillStyle="red",Z.textAlign="center",Z.beginPath(),Z.moveTo(I,y+5),Z.lineTo(I+5,y),Z.lineTo(I+w,y),Z.lineTo(I+w,y-14),Z.lineTo(I-w,y-14),Z.lineTo(I-w,y),Z.lineTo(I-5,y),Z.closePath(),Z.fill(),Z.fillStyle="white",Z.fillText(C,I,y-4),Z.restore(),F=!1}function w(e){return 0>e-p?-1:(e-p+k)/h|0}function x(e){var t=f/s;return m+((e-K)/t|0)/s}function E(e){var t=e-m;return t*=f,t+=K}function b(e){B=R.getBoundingClientRect();var t=e.clientX-B.left,n=e.clientY-B.top;T(t,n)}function T(e,t){U||(q=!0,J={x:e,y:t})}var M,_=e.dispatcher,k=0,S=0,H=window.devicePixelRatio,R=document.createElement("canvas");this.updateState=function(){M=e.controller.getChannelNames(),n()},this.updateState(),this.scrollTo=function(t){k=t*Math.max(M.length*h-e.scrollHeight,0),n()},this.resize=function(){H=window.devicePixelRatio,R.width=e.width*H,R.height=e.height*H,R.style.width=e.width+"px",R.style.height=e.height+"px",e.scrollHeight=e.height-p},this.dom=R,this.resize();var P,W,I,A,z,D,Z=R.getContext("2d"),N=u(Z),K=20,F=!1,j=[],X=0,O=20,Y={left:0,grip_length:0,k:1};this.setTimeScale=L;var G=null,U=null;this.repaint=n,this._paint=y,n();var B;document.addEventListener("mousemove",b),R.addEventListener("dblclick",function(e){B=R.getBoundingClientRect();var t=e.clientX-B.left,n=e.clientY-B.top,i=w(n);x(t),_.fire("keyframe",M[i],P)});var q=!1,J=null;R.addEventListener("mouseout",function(){J=null});var V=!1,Q=!1;c.handleDrag(R,function(e){V=!0,J={x:e.offsetx,y:e.offsety},g(),U instanceof t&&(X=U.time,D=M[w(e.offsety)],D||(U=null)),_.fire("time.update",x(e.offsetx))},function(e,t){V=!1,U?(Q=!0,U.mousedrag&&U.mousedrag(e,t)):_.fire("time.update",x(e.offsetx))},function(){Q&&_.fire("keyframe.move"),V=!1,U=null,Q=!1,e.draggingKeyframe=!1,n()});var $;c.handleDrag(R,function(e){$=Y.left},function(t){e.scrollTime=Math.max(0,($+t.dx)/Y.k),n()},function(){},function(e){var t=e.offsetx>=Y.left&&e.offsetx<=Y.left+Y.grip_length;return e.offsety<=O&&t})}var a,r,s,l=e("./layout_constants"),d=e("./theme"),c=e("./utils"),u=c.proxy_ctx,h=l.LINE_HEIGHT,C=l.DIAMOND_SIZE,p=l.MARKER_TRACK_HEIGHT,f=(l.LEFT_PANE_WIDTH,l.TIME_SCALE),m=0;i(),t.exports=o},{"./layout_constants":6,"./theme":7,"./utils":11}],9:[function(e,t,n){function i(e){function t(){D=performance.now()-1e3*P.currentTime,I.setControlStatus(!0)}function n(){D=null,I.setControlStatus(!1)}function i(){if(requestAnimationFrame(i),D){var e=(performance.now()-D)/1e3;N(e),e>P.totalTime&&(D=performance.now())}K&&(z.style.width=P.width+"px",z.style.height=P.height+"px",H(I.dom,W.dom),W.resize(),M(),K=!1,R.fire("resize")),W._paint()}function o(e){}function y(e){e||(e=P.name),e=prompt("Pick a name to save to (localStorage)",e),e&&(P.name=e,o(e))}function w(){var e=P.name;e?o(e):y(e)}function x(){var t=e.serialize(),n="animation.json";f(JSON.stringify(t,null,"\t"),n)}function E(t){e.deserialize(t),T()}function b(e){var t=JSON.parse(e);E(t)}function T(){I.updateState(),W.updateState(),M()}function M(){var e=P.controller.getChannelNames(),t=e.length*l.LINE_HEIGHT;A.setLength(P.scrollHeight/t),I.repaint(),W.repaint()}function _(){var e=prompt("Paste JSON in here to Load");e&&b(e)}function k(e){e&&b(localStorage[L+e])}function S(e,t){P.width=e-l.LEFT_PANE_WIDTH-4,P.height=t-44,P.scrollHeight=P.height-l.MARKER_TRACK_HEIGHT,A.setHeight(P.scrollHeight-2),p(A.dom,{top:l.MARKER_TRACK_HEIGHT+"px",left:e-16-4+"px"}),K=!0}function H(e,t){e.style.cssText="position: absolute; left: 0px; top: 0px; height: "+P.height+"px;",p(e,{overflow:"hidden"}),e.style.width=l.LEFT_PANE_WIDTH+"px",t.style.position="absolute",t.style.top="0px",t.style.left=l.LEFT_PANE_WIDTH+"px"}var R=new a;e.timeliner=this,e.init(this);var P={width:l.WIDTH,height:l.HEIGHT,scrollHeight:0,totalTime:20,timeScale:6,currentTime:0,scrollTime:0,dispatcher:R,controller:e},W=new u(P),I=new c(P),A=(new s(R),new v(0,10)),z=document.createElement("div");e.setDuration(P.totalTime),R.on("keyframe",function(t){var n=P.currentTime;if(null!=n&&null!=t){var i=e.getChannelKeyTimes(t,n);d.binarySearch(i,n)<0?e.setKeyframe(t,n):e.delKeyframe(t,n),M()}}),R.on("keyframe.move",function(e,t){});var D=null,Z=0,N=function(t){var n=Math.min(Math.max(t,0),P.totalTime);P.currentTime=n,e.setDisplayTime(n),D&&(D=performance.now()-1e3*t),M()};R.on("controls.toggle_play",function(){D?n():t()}),R.on("controls.restart_play",function(){D||t(),N(Z)}),R.on("controls.play",t),R.on("controls.pause",n),R.on("controls.stop",function(){null!==D&&n(),N(0)}),R.on("time.update",N),R.on("totalTime.update",function(t){P.totalTime=t,e.setDuration(t),W.repaint()}),R.on("update.scale",function(e){P.timeScale=e,W.setTimeScale(e),W.repaint()}),R.on("controls.undo",function(){}),R.on("controls.redo",function(){});var K=!0;i(),this.openLocalSave=k,R.on("import",function(){_()}.bind(this)),R.on("new",function(){data.blank(),T()}),R.on("openfile",function(){m(function(e){b(e)},z)}),R.on("open",k),R.on("export",x),R.on("save",w),R.on("save_as",y),this.save=o,this.load=E,p(z,{textAlign:"left",lineHeight:"1em",position:"absolute",top:"22px"});var F=document.createElement("div");p(F,{position:"fixed",top:"20px",left:"20px",margin:0,border:"1px solid "+r.a,padding:0,overflow:"hidden",backgroundColor:r.a,color:r.d,zIndex:g,fontFamily:"monospace",fontSize:"12px"});var j={position:"absolute",top:"0px",width:"100%",height:"22px",lineHeight:"22px",overflow:"hidden"},X={width:"20px",height:"20px",padding:"2px",marginRight:"2px"},O=document.createElement("div");p(O,j,{borderBottom:"1px solid "+r.b,textAlign:"center"});var Y=document.createElement("span");O.appendChild(Y),Y.innerHTML=h.description+" "+h.version,O.appendChild(Y);var G=document.createElement("div");p(G,j,{textAlign:"right"}),O.appendChild(G);var U=new C(10,"resize_full","Maximize",R);p(U.dom,X,{marginRight:"2px"}),G.appendChild(U.dom);var B=document.createElement("div"),q={position:"absolute",width:"100%",height:"22px",lineHeight:"22px",bottom:"0",fontSize:"11px"};p(B,q,{borderTop:"1px solid "+r.b,background:r.a}),F.appendChild(z),F.appendChild(B),F.appendChild(O);var J=document.createElement("span");J.textContent="Hello!",J.style.marginLeft="10px",R.on("status",function(e){J.textContent=e}),R.on("state:save",function(e){R.fire("status",e),o("autosave")});var V=document.createElement("div");p(V,q,{textAlign:"right"}),B.appendChild(J),B.appendChild(V);var Q=document.createElement("div");p(Q,{background:"#999",opacity:.2,position:"fixed",margin:0,padding:0,zIndex:g-1,transitionProperty:"top, left, width, height, opacity",transitionDuration:"0.25s",transitionTimingFunction:"ease-in-out"}),document.body.appendChild(F),document.body.appendChild(Q),z.appendChild(I.dom),z.appendChild(W.dom),z.appendChild(A.dom),A.onScroll.do(function(e,t){switch(e){case"scrollto":I.scrollTo(t),W.scrollTo(t)}}),document.addEventListener("keydown",function(e){var t=32==e.keyCode,n=13==e.keyCode,i=(e.metaKey&&91==e.keyCode&&!e.shiftKey,document.activeElement);i.nodeName.match(/(INPUT|BUTTON|SELECT)/)&&i.blur(),t?R.fire("controls.toggle_play"):n?R.fire("controls.restart_play"):27==e.keyCode&&R.fire("controls.pause")}),this.dispose=function(){var e=F.parentElement;e.removeChild(F),e.removeChild(Q)},function(){"use strict";function e(e,t,n,i,o){e.style.left=t+"px",e.style.top=n+"px",e.style.width=i+"px",e.style.height=o+"px",e===F&&S(i,o)}function t(){e(Q,I.left,I.top,I.width,I.height),Q.style.opacity=0}function n(e){Z=!0}function i(e){Z=!1}function o(e){d(e.touches[0]),e.preventDefault()}function a(e){h(e.touches[0])}function r(e){0==e.touches.length&&m(e.changedTouches[0])}function s(e){d(e)}function d(e){u(e);var t=L||v||y||g,n=!t&&c();H={x:w,y:x,cx:e.clientX,cy:e.clientY,w:I.width,h:I.height,isResizing:t,isMoving:n,onTopEdge:y,onLeftEdge:g,onRightEdge:L,onBottomEdge:v},(t||n)&&e.preventDefault(),e.stopPropagation()}function c(){return z}function u(e){I=F.getBoundingClientRect(),w=e.clientX-I.left,x=e.clientY-I.top,y=_>x,g=_>w,L=w>=I.width-_,v=x>=I.height-_}function h(e){D=e,u(D),A=!0,Z&&D.stopPropagation()}function C(){if(requestAnimationFrame(C),A){if(A=!1,H&&H.isResizing){if(H.onRightEdge&&(F.style.width=Math.max(w,E)+"px"),H.onBottomEdge&&(F.style.height=Math.max(x,b)+"px"),H.onLeftEdge){var n=Math.max(H.cx-D.clientX+H.w,E);n>E&&(F.style.width=n+"px",F.style.left=D.clientX+"px")}if(H.onTopEdge){var i=Math.max(H.cy-D.clientY+H.h,b);i>b&&(F.style.height=i+"px",F.style.top=D.clientY+"px")}return t(),void S(I.width,I.height)}if(H&&H.isMoving){switch(p()){case"full-screen":e(Q,0,0,window.innerWidth,window.innerHeight),Q.style.opacity=.2;break;case"snap-top-edge":e(Q,0,0,window.innerWidth,.25*window.innerHeight),Q.style.opacity=.2;break;case"snap-left-edge":e(Q,0,0,.35*window.innerWidth,window.innerHeight),Q.style.opacity=.2;break;case"snap-right-edge":e(Q,.65*window.innerWidth,0,.35*window.innerWidth,window.innerHeight),Q.style.opacity=.2;break;case"snap-bottom-edge":e(Q,0,.75*window.innerHeight,window.innerWidth,.25*window.innerHeight),Q.style.opacity=.2;break;default:t()}return R?void e(F,D.clientX-R.width/2,D.clientY-Math.min(H.y,R.height),R.width,R.height):(F.style.top=D.clientY-H.y+"px",void(F.style.left=D.clientX-H.x+"px"))}L&&v||g&&y?F.style.cursor="nwse-resize":L&&y||v&&g?F.style.cursor="nesw-resize":L||g?F.style.cursor="ew-resize":v||y?F.style.cursor="ns-resize":c()?F.style.cursor="move":F.style.cursor="default"}}function p(){return D.clientY<T?"full-screen":D.clientY<M?"snap-top-edge":D.clientX<M?"snap-left-edge":window.innerWidth-D.clientX<M?"snap-right-edge":window.innerHeight-D.clientY<M?"snap-bottom-edge":void 0}function f(){var t,n,i,o;switch(W){case"full-screen":t=0,n=0,i=window.innerWidth,o=window.innerHeight;break;case"snap-top-edge":t=0,n=0,i=window.innerWidth,o=.25*window.innerHeight;break;case"snap-left-edge":t=0,n=0,i=.35*window.innerWidth,o=window.innerHeight;break;case"snap-right-edge":t=.65*window.innerWidth,n=0,i=.35*window.innerWidth,o=window.innerHeight;break;case"snap-bottom-edge":t=0,n=.75*window.innerHeight,i=window.innerWidth,o=.25*window.innerHeight;break;default:return}e(F,t,n,i,o),e(Q,t,n,i,o)}function m(e){u(e),H&&H.isMoving&&(W=p(),W?(R={width:I.width,height:I.height},f()):R=null,t()),H=null,Z&&e.stopPropagation()}var L,v,g,y,w,x,E=120,b=100,T=2,M=12,_=2,k="snap-bottom-edge",H=null,R={width:l.WIDTH,height:l.HEIGHT},W=k,I=F.getBoundingClientRect(),A=!1,z=!1;O.addEventListener("mouseover",function(){z=!0}),O.addEventListener("mouseout",function(){z=!1}),U.onClick(function(){R||(R={width:I.width,height:I.height}),W="full-screen",f()}),window.addEventListener("resize",function(){W?f():K=!0}),e(F,0,0,P.width,P.height),e(Q,0,0,P.width,P.height),F.addEventListener("mousedown",s),F.addEventListener("mouseover",n),F.addEventListener("mouseout",i),document.addEventListener("mousemove",h),document.addEventListener("mouseup",m),F.addEventListener("touchstart",o),document.addEventListener("touchmove",a),document.addEventListener("touchend",r);var D,Z=!1;C(),f()}()}var o=e("./undo"),a=e("./dispatcher"),r=e("./theme"),s=o.UndoManager,l=(o.UndoState,e("./layout_constants")),d=e("./utils"),c=e("./layer_cabinet"),u=e("./timeline_panel"),h=e("../package.json"),C=e("./widget/icon_button"),p=d.style,f=d.saveToFile,m=d.openAs,L=d.STORAGE_PREFIX,v=e("./widget/scrollbar"),g=999;i.binarySearch=d.binarySearch,window.Timeliner=i},{"../package.json":2,"./dispatcher":3,"./layer_cabinet":4,"./layout_constants":6,"./theme":7,"./timeline_panel":8,"./undo":10,"./utils":11,"./widget/icon_button":13,"./widget/scrollbar":15}],10:[function(e,t,n){function i(e,t){this.state=e.getJSONString(),this.description=t}function o(e,t){this.dispatcher=e,this.MAX_ITEMS=t||100,this.clear()}o.prototype.save=function(e,t){var n=this.states,i=this.index+1,o=n.length-i;n.splice(i,o,e),n.length>this.MAX_ITEMS&&n.shift(),this.index=n.length-1,t||this.dispatcher.fire("state:save",e.description)},o.prototype.clear=function(){this.states=[],this.index=-1},o.prototype.canUndo=function(){return this.index>0},o.prototype.canRedo=function(){return this.index<this.states.length-1},o.prototype.undo=function(){return this.canUndo()?(this.dispatcher.fire("status","Undo: "+this.get().description),this.index--):this.dispatcher.fire("status","Nothing to undo"),this.get()},o.prototype.redo=function(){return this.canRedo()?(this.index++,this.dispatcher.fire("status","Redo: "+this.get().description)):this.dispatcher.fire("status","Nothing to redo"),this.get()},o.prototype.get=function(){return this.states[this.index]},t.exports={UndoState:i,UndoManager:o}},{}],11:[function(e,t,n){function i(e,t){for(var n=0,i=e.length,o=!1;i>n;){var a=n+i>>1;e[a]<t?n=a+1:(i=a,o=e[a]===t)}return o?n:~n}function o(e,t,n,i,o){function a(e){return s(e),o&&!o(C,e)?void(C=null):(document.addEventListener("mousemove",r),document.addEventListener("mouseup",d),t(C,e),void e.preventDefault())}function r(e){l(e),C.moved=!0,n(C,e)}function s(t){p=e.getBoundingClientRect();var n=t.clientX,i=t.clientY;C={startx:n,starty:i,x:n,y:i,dx:0,dy:0,offsetx:n-p.left,offsety:i-p.top,moved:!1}}function l(t){p=e.getBoundingClientRect();var n=t.clientX,i=t.clientY,o=n-p.left,a=i-p.top;C.x=n,C.y=i,C.dx=t.clientX-C.startx,C.dy=t.clientY-C.starty,C.offsetx=o,C.offsety=a}function d(e){l(e),i(C,e),C=null,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",d)}function c(n){if(1==n.touches.length){var i=n.touches[0];if(o&&!o(i))return;n.preventDefault(),s(i),t(C,i)}e.addEventListener("touchmove",u),e.addEventListener("touchend",h)}function u(e){var t=e.touches[0];r(t)}function h(t){d(t),e.removeEventListener("touchmove",u),e.removeEventListener("touchend",h)}var C=null,p=e.getBoundingClientRect();e.addEventListener("mousedown",a),e.addEventListener("touchstart",c),this.release=function(){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",c)}}function a(e,t){for(var n=1;n<arguments.length;++n){var i=arguments[n];for(var o in i)e.style[o]=i[o]}}function r(e,t){var n=document.createElement("a");document.body.appendChild(n),n.style="display: none";var i=new Blob([e],{type:"octet/stream"}),o=window.URL.createObjectURL(i);n.href=o,n.download=t,d(n),setTimeout(function(){window.URL.revokeObjectURL(o),document.body.removeChild(n)},500)}function s(e){var t=e.target.files,n=t[0];if(n){var i=new FileReader;i.onload=function(e){var t=e.target.result;C(t)},i.readAsText(n),h.value=""}}function l(e,t){C=e,h||(h=document.createElement("input"),h.style.display="none",h.type="file",h.addEventListener("change",s),t=t||document.body,t.appendChild(h)),d(h)}function d(e){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}function c(e,t){var n=0|e,i=n%60,o=n/60|0,a=o%60,r=(i/100).toFixed(2).substring(2),s=a+":"+r;if(e%1>0){var l=e%1*60;"frames"===t?s=i+"+"+l.toFixed(0)+"f":s+=(e%1).toFixed(2).substring(1)}return s}function u(e){function t(t){return function(){return e[t].apply(e,arguments),i}}function n(t){return function(n){return e[t]=n,i}}var i={};i.run=function(e){return e(i),i};for(var o in e){var a=typeof e[o];switch(a){case"object":break;case"function":i[o]=t(o);break;default:i[o]=n(o)}}return i}t.exports={STORAGE_PREFIX:"timeliner-",Z_INDEX:999,style:a,saveToFile:r,openAs:l,format_friendly_seconds:c,proxy_ctx:u,handleDrag:o,binarySearch:i};var h,C},{}],12:[function(e,t,n){t.exports={unitsPerEm:1792,ascender:1536,descender:-256,fonts:{plus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,896,896 L,896,1312 C,896,1365,853,1408,800,1408 L,608,1408 C,555,1408,512,1365,512,1312 L,512,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,512,512 L,512,96 C,512,43,555,0,608,0 L,800,0 C,853,0,896,43,896,96 L,896,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},minus:{advanceWidth:1408,commands:"M,1408,800 C,1408,853,1365,896,1312,896 L,96,896 C,43,896,0,853,0,800 L,0,608 C,0,555,43,512,96,512 L,1312,512 C,1365,512,1408,555,1408,608 Z"},ok:{advanceWidth:1792,commands:"M,1671,970 C,1671,995,1661,1020,1643,1038 L,1507,1174 C,1489,1192,1464,1202,1439,1202 C,1414,1202,1389,1192,1371,1174 L,715,517 L,421,812 C,403,830,378,840,353,840 C,328,840,303,830,285,812 L,149,676 C,131,658,121,633,121,608 C,121,583,131,558,149,540 L,511,178 L,647,42 C,665,24,690,14,715,14 C,740,14,765,24,783,42 L,919,178 L,1643,902 C,1661,920,1671,945,1671,970 Z"},remove:{advanceWidth:1408,commands:"M,1298,214 C,1298,239,1288,264,1270,282 L,976,576 L,1270,870 C,1288,888,1298,913,1298,938 C,1298,963,1288,988,1270,1006 L,1134,1142 C,1116,1160,1091,1170,1066,1170 C,1041,1170,1016,1160,998,1142 L,704,848 L,410,1142 C,392,1160,367,1170,342,1170 C,317,1170,292,1160,274,1142 L,138,1006 C,120,988,110,963,110,938 C,110,913,120,888,138,870 L,432,576 L,138,282 C,120,264,110,239,110,214 C,110,189,120,164,138,146 L,274,10 C,292,-8,317,-18,342,-18 C,367,-18,392,-8,410,10 L,704,304 L,998,10 C,1016,-8,1041,-18,1066,-18 C,1091,-18,1116,-8,1134,10 L,1270,146 C,1288,164,1298,189,1298,214 Z"},zoom_in:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,768,768 L,768,992 C,768,1009,753,1024,736,1024 L,672,1024 C,655,1024,640,1009,640,992 L,640,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,640,640 L,640,416 C,640,399,655,384,672,384 L,736,384 C,753,384,768,399,768,416 L,768,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},zoom_out:{advanceWidth:1664,commands:"M,1024,736 C,1024,753,1009,768,992,768 L,416,768 C,399,768,384,753,384,736 L,384,672 C,384,655,399,640,416,640 L,992,640 C,1009,640,1024,655,1024,672 M,1152,704 C,1152,457,951,256,704,256 C,457,256,256,457,256,704 C,256,951,457,1152,704,1152 C,951,1152,1152,951,1152,704 M,1664,-128 C,1664,-94,1650,-61,1627,-38 L,1284,305 C,1365,422,1408,562,1408,704 C,1408,1093,1093,1408,704,1408 C,315,1408,0,1093,0,704 C,0,315,315,0,704,0 C,846,0,986,43,1103,124 L,1446,-218 C,1469,-242,1502,-256,1536,-256 C,1607,-256,1664,-199,1664,-128 Z"},cog:{advanceWidth:1536,commands:"M,1024,640 C,1024,499,909,384,768,384 C,627,384,512,499,512,640 C,512,781,627,896,768,896 C,909,896,1024,781,1024,640 M,1536,749 C,1536,766,1524,782,1507,785 L,1324,813 C,1314,846,1300,879,1283,911 C,1317,958,1354,1002,1388,1048 C,1393,1055,1396,1062,1396,1071 C,1396,1079,1394,1087,1389,1093 C,1347,1152,1277,1214,1224,1263 C,1217,1269,1208,1273,1199,1273 C,1190,1273,1181,1270,1175,1264 L,1033,1157 C,1004,1172,974,1184,943,1194 L,915,1378 C,913,1395,897,1408,879,1408 L,657,1408 C,639,1408,625,1396,621,1380 C,605,1320,599,1255,592,1194 C,561,1184,530,1171,501,1156 L,363,1263 C,355,1269,346,1273,337,1273 C,303,1273,168,1127,144,1094 C,139,1087,135,1080,135,1071 C,135,1062,139,1054,145,1047 C,182,1002,218,957,252,909 C,236,879,223,849,213,817 L,27,789 C,12,786,0,768,0,753 L,0,531 C,0,514,12,498,29,495 L,212,468 C,222,434,236,401,253,369 C,219,322,182,278,148,232 C,143,225,140,218,140,209 C,140,201,142,193,147,186 C,189,128,259,66,312,18 C,319,11,328,7,337,7 C,346,7,355,10,362,16 L,503,123 C,532,108,562,96,593,86 L,621,-98 C,623,-115,639,-128,657,-128 L,879,-128 C,897,-128,911,-116,915,-100 C,931,-40,937,25,944,86 C,975,96,1006,109,1035,124 L,1173,16 C,1181,11,1190,7,1199,7 C,1233,7,1368,154,1392,186 C,1398,193,1401,200,1401,209 C,1401,218,1397,227,1391,234 C,1354,279,1318,323,1284,372 C,1300,401,1312,431,1323,463 L,1508,491 C,1524,494,1536,512,1536,527 Z"},trash:{advanceWidth:1408,commands:"M,512,800 C,512,818,498,832,480,832 L,416,832 C,398,832,384,818,384,800 L,384,224 C,384,206,398,192,416,192 L,480,192 C,498,192,512,206,512,224 M,768,800 C,768,818,754,832,736,832 L,672,832 C,654,832,640,818,640,800 L,640,224 C,640,206,654,192,672,192 L,736,192 C,754,192,768,206,768,224 M,1024,800 C,1024,818,1010,832,992,832 L,928,832 C,910,832,896,818,896,800 L,896,224 C,896,206,910,192,928,192 L,992,192 C,1010,192,1024,206,1024,224 M,1152,76 C,1152,28,1125,0,1120,0 L,288,0 C,283,0,256,28,256,76 L,256,1024 L,1152,1024 L,1152,76 M,480,1152 L,529,1269 C,532,1273,540,1279,546,1280 L,863,1280 C,868,1279,877,1273,880,1269 L,928,1152 M,1408,1120 C,1408,1138,1394,1152,1376,1152 L,1067,1152 L,997,1319 C,977,1368,917,1408,864,1408 L,544,1408 C,491,1408,431,1368,411,1319 L,341,1152 L,32,1152 C,14,1152,0,1138,0,1120 L,0,1056 C,0,1038,14,1024,32,1024 L,128,1024 L,128,72 C,128,-38,200,-128,288,-128 L,1120,-128 C,1208,-128,1280,-34,1280,76 L,1280,1024 L,1376,1024 C,1394,1024,1408,1038,1408,1056 Z"},file_alt:{advanceWidth:1536,commands:"M,1468,1156 L,1156,1468 C,1119,1505,1045,1536,992,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,-160 C,0,-213,43,-256,96,-256 L,1440,-256 C,1493,-256,1536,-213,1536,-160 L,1536,992 C,1536,1045,1505,1119,1468,1156 M,1024,1400 C,1041,1394,1058,1385,1065,1378 L,1378,1065 C,1385,1058,1394,1041,1400,1024 L,1024,1024 M,1408,-128 L,128,-128 L,128,1408 L,896,1408 L,896,992 C,896,939,939,896,992,896 L,1408,896 Z"},download_alt:{advanceWidth:1664,commands:"M,1280,192 C,1280,157,1251,128,1216,128 C,1181,128,1152,157,1152,192 C,1152,227,1181,256,1216,256 C,1251,256,1280,227,1280,192 M,1536,192 C,1536,157,1507,128,1472,128 C,1437,128,1408,157,1408,192 C,1408,227,1437,256,1472,256 C,1507,256,1536,227,1536,192 M,1664,416 C,1664,469,1621,512,1568,512 L,1104,512 L,968,376 C,931,340,883,320,832,320 C,781,320,733,340,696,376 L,561,512 L,96,512 C,43,512,0,469,0,416 L,0,96 C,0,43,43,0,96,0 L,1568,0 C,1621,0,1664,43,1664,96 M,1339,985 C,1329,1008,1306,1024,1280,1024 L,1024,1024 L,1024,1472 C,1024,1507,995,1536,960,1536 L,704,1536 C,669,1536,640,1507,640,1472 L,640,1024 L,384,1024 C,358,1024,335,1008,325,985 C,315,961,320,933,339,915 L,787,467 C,799,454,816,448,832,448 C,848,448,865,454,877,467 L,1325,915 C,1344,933,1349,961,1339,985 Z"},repeat:{advanceWidth:1536,commands:"M,1536,1280 C,1536,1306,1520,1329,1497,1339 C,1473,1349,1445,1344,1427,1325 L,1297,1196 C,1156,1329,965,1408,768,1408 C,345,1408,0,1063,0,640 C,0,217,345,-128,768,-128 C,997,-128,1213,-27,1359,149 C,1369,162,1369,181,1357,192 L,1220,330 C,1213,336,1204,339,1195,339 C,1186,338,1177,334,1172,327 C,1074,200,927,128,768,128 C,486,128,256,358,256,640 C,256,922,486,1152,768,1152 C,899,1152,1023,1102,1117,1015 L,979,877 C,960,859,955,831,965,808 C,975,784,998,768,1024,768 L,1472,768 C,1507,768,1536,797,1536,832 Z"},pencil:{advanceWidth:1536,commands:"M,363,0 L,256,0 L,256,128 L,128,128 L,128,235 L,219,326 L,454,91 M,886,928 C,886,922,884,916,879,911 L,337,369 C,332,364,326,362,320,362 C,307,362,298,371,298,384 C,298,390,300,396,305,401 L,847,943 C,852,948,858,950,864,950 C,877,950,886,941,886,928 M,832,1120 L,0,288 L,0,-128 L,416,-128 L,1248,704 M,1515,1024 C,1515,1058,1501,1091,1478,1115 L,1243,1349 C,1219,1373,1186,1387,1152,1387 C,1118,1387,1085,1373,1062,1349 L,896,1184 L,1312,768 L,1478,934 C,1501,957,1515,990,1515,1024 Z"},edit:{advanceWidth:1792,commands:"M,888,352 L,832,352 L,832,448 L,736,448 L,736,504 L,852,620 L,1004,468 M,1328,1072 C,1337,1063,1336,1048,1327,1039 L,977,689 C,968,680,953,679,944,688 C,935,697,936,712,945,721 L,1295,1071 C,1304,1080,1319,1081,1328,1072 M,1408,478 C,1408,491,1400,502,1388,507 C,1376,512,1363,510,1353,500 L,1289,436 C,1283,430,1280,422,1280,414 L,1280,288 C,1280,200,1208,128,1120,128 L,288,128 C,200,128,128,200,128,288 L,128,1120 C,128,1208,200,1280,288,1280 L,1120,1280 C,1135,1280,1150,1278,1165,1274 C,1176,1270,1188,1273,1197,1282 L,1246,1331 C,1254,1339,1257,1349,1255,1360 C,1253,1370,1246,1379,1237,1383 C,1200,1400,1160,1408,1120,1408 L,288,1408 C,129,1408,0,1279,0,1120 L,0,288 C,0,129,129,0,288,0 L,1120,0 C,1279,0,1408,129,1408,288 M,1312,1216 L,640,544 L,640,256 L,928,256 L,1600,928 M,1756,1084 C,1793,1121,1793,1183,1756,1220 L,1604,1372 C,1567,1409,1505,1409,1468,1372 L,1376,1280 L,1664,992 L,1756,1084 Z"
},play:{advanceWidth:1408,commands:"M,1384,609 C,1415,626,1415,654,1384,671 L,56,1409 C,25,1426,0,1411,0,1376 L,0,-96 C,0,-131,25,-146,56,-129 Z"},pause:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,960,1408 C,925,1408,896,1379,896,1344 L,896,-64 C,896,-99,925,-128,960,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 M,640,1344 C,640,1379,611,1408,576,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,576,-128 C,611,-128,640,-99,640,-64 Z"},stop:{advanceWidth:1536,commands:"M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,64,1408 C,29,1408,0,1379,0,1344 L,0,-64 C,0,-99,29,-128,64,-128 L,1472,-128 C,1507,-128,1536,-99,1536,-64 Z"},resize_full:{advanceWidth:1536,commands:"M,755,480 C,755,488,751,497,745,503 L,631,617 C,625,623,616,627,608,627 C,600,627,591,623,585,617 L,253,285 L,109,429 C,97,441,81,448,64,448 C,29,448,0,419,0,384 L,0,-64 C,0,-99,29,-128,64,-128 L,512,-128 C,547,-128,576,-99,576,-64 C,576,-47,569,-31,557,-19 L,413,125 L,745,457 C,751,463,755,472,755,480 M,1536,1344 C,1536,1379,1507,1408,1472,1408 L,1024,1408 C,989,1408,960,1379,960,1344 C,960,1327,967,1311,979,1299 L,1123,1155 L,791,823 C,785,817,781,808,781,800 C,781,792,785,783,791,777 L,905,663 C,911,657,920,653,928,653 C,936,653,945,657,951,663 L,1283,995 L,1427,851 C,1439,839,1455,832,1472,832 C,1507,832,1536,861,1536,896 Z"},resize_small:{advanceWidth:1536,commands:"M,768,576 C,768,611,739,640,704,640 L,256,640 C,221,640,192,611,192,576 C,192,559,199,543,211,531 L,355,387 L,23,55 C,17,49,13,40,13,32 C,13,24,17,15,23,9 L,137,-105 C,143,-111,152,-115,160,-115 C,168,-115,177,-111,183,-105 L,515,227 L,659,83 C,671,71,687,64,704,64 C,739,64,768,93,768,128 M,1523,1248 C,1523,1256,1519,1265,1513,1271 L,1399,1385 C,1393,1391,1384,1395,1376,1395 C,1368,1395,1359,1391,1353,1385 L,1021,1053 L,877,1197 C,865,1209,849,1216,832,1216 C,797,1216,768,1187,768,1152 L,768,704 C,768,669,797,640,832,640 L,1280,640 C,1315,640,1344,669,1344,704 C,1344,721,1337,737,1325,749 L,1181,893 L,1513,1225 C,1519,1231,1523,1240,1523,1248 Z"},eye_open:{advanceWidth:1792,commands:"M,1664,576 C,1493,312,1217,128,896,128 C,575,128,299,312,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,457,649,256,896,256 C,1143,256,1344,457,1344,704 C,1344,783,1323,861,1283,929 C,1439,849,1569,723,1664,576 M,944,960 C,944,934,922,912,896,912 C,782,912,688,818,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1792,576 C,1792,601,1784,624,1772,645 C,1588,947,1251,1152,896,1152 C,541,1152,204,947,20,645 C,8,624,0,601,0,576 C,0,551,8,528,20,507 C,204,205,541,0,896,0 C,1251,0,1588,204,1772,507 C,1784,528,1792,551,1792,576 Z"},eye_close:{advanceWidth:1792,commands:"M,555,201 C,379,280,232,415,128,576 C,223,723,353,849,509,929 C,469,861,448,783,448,704 C,448,561,517,426,633,342 M,944,960 C,944,934,922,912,896,912 C,782,912,688,819,688,704 C,688,678,666,656,640,656 C,614,656,592,678,592,704 C,592,871,729,1008,896,1008 C,922,1008,944,986,944,960 M,1307,1151 C,1307,1162,1301,1172,1291,1178 C,1270,1190,1176,1248,1158,1248 C,1146,1248,1136,1242,1130,1232 L,1076,1135 C,1017,1146,956,1152,896,1152 C,527,1152,218,949,20,645 C,7,625,0,600,0,576 C,0,551,7,527,20,507 C,135,327,298,177,492,89 C,482,72,448,18,448,2 C,448,-10,454,-20,464,-26 C,485,-38,580,-96,598,-96 C,609,-96,620,-90,626,-80 L,675,9 C,886,386,1095,765,1306,1142 C,1307,1144,1307,1149,1307,1151 M,1344,704 C,1344,732,1341,760,1336,788 L,1056,286 C,1229,352,1344,518,1344,704 M,1792,576 C,1792,602,1785,623,1772,645 C,1694,774,1569,899,1445,982 L,1382,870 C,1495,792,1590,691,1664,576 C,1508,334,1261,157,970,132 L,896,0 C,1197,0,1467,137,1663,362 C,1702,407,1741,456,1772,507 C,1785,529,1792,550,1792,576 Z"},folder_open:{advanceWidth:1920,commands:"M,1879,584 C,1879,629,1828,640,1792,640 L,704,640 C,616,640,498,586,440,518 L,104,122 C,88,104,73,80,73,56 C,73,11,124,0,160,0 L,1248,0 C,1336,0,1454,54,1512,122 L,1848,518 C,1864,536,1879,560,1879,584 M,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,216,1,207,1,199 L,6,205 L,343,601 C,424,697,579,768,704,768 L,1536,768 Z"},signin:{advanceWidth:1536,commands:"M,1184,640 C,1184,657,1177,673,1165,685 L,621,1229 C,609,1241,593,1248,576,1248 C,541,1248,512,1219,512,1184 L,512,896 L,64,896 C,29,896,0,867,0,832 L,0,448 C,0,413,29,384,64,384 L,512,384 L,512,96 C,512,61,541,32,576,32 C,593,32,609,39,621,51 L,1165,595 C,1177,607,1184,623,1184,640 M,1536,992 C,1536,1151,1407,1280,1248,1280 L,928,1280 C,883,1280,896,1212,896,1184 C,896,1147,935,1152,960,1152 L,1248,1152 C,1336,1152,1408,1080,1408,992 L,1408,288 C,1408,200,1336,128,1248,128 L,928,128 C,883,128,896,60,896,32 C,896,15,911,0,928,0 L,1248,0 C,1407,0,1536,129,1536,288 Z"},upload_alt:{advanceWidth:1664,commands:"M,1280,64 C,1280,29,1251,0,1216,0 C,1181,0,1152,29,1152,64 C,1152,99,1181,128,1216,128 C,1251,128,1280,99,1280,64 M,1536,64 C,1536,29,1507,0,1472,0 C,1437,0,1408,29,1408,64 C,1408,99,1437,128,1472,128 C,1507,128,1536,99,1536,64 M,1664,288 C,1664,341,1621,384,1568,384 L,1141,384 C,1114,310,1043,256,960,256 L,704,256 C,621,256,550,310,523,384 L,96,384 C,43,384,0,341,0,288 L,0,-32 C,0,-85,43,-128,96,-128 L,1568,-128 C,1621,-128,1664,-85,1664,-32 M,1339,936 C,1349,959,1344,987,1325,1005 L,877,1453 C,865,1466,848,1472,832,1472 C,816,1472,799,1466,787,1453 L,339,1005 C,320,987,315,959,325,936 C,335,912,358,896,384,896 L,640,896 L,640,448 C,640,413,669,384,704,384 L,960,384 C,995,384,1024,413,1024,448 L,1024,896 L,1280,896 C,1306,896,1329,912,1339,936 Z"},save:{advanceWidth:1536,commands:"M,384,0 L,384,384 L,1152,384 L,1152,0 M,1280,0 L,1280,416 C,1280,469,1237,512,1184,512 L,352,512 C,299,512,256,469,256,416 L,256,0 L,128,0 L,128,1280 L,256,1280 L,256,864 C,256,811,299,768,352,768 L,928,768 C,981,768,1024,811,1024,864 L,1024,1280 C,1044,1280,1083,1264,1097,1250 L,1378,969 C,1391,956,1408,915,1408,896 L,1408,0 M,896,928 C,896,911,881,896,864,896 L,672,896 C,655,896,640,911,640,928 L,640,1248 C,640,1265,655,1280,672,1280 L,864,1280 C,881,1280,896,1265,896,1248 L,896,928 M,1536,896 C,1536,949,1506,1022,1468,1060 L,1188,1340 C,1150,1378,1077,1408,1024,1408 L,96,1408 C,43,1408,0,1365,0,1312 L,0,-32 C,0,-85,43,-128,96,-128 L,1440,-128 C,1493,-128,1536,-85,1536,-32 Z"},undo:{advanceWidth:1536,commands:"M,1536,640 C,1536,1063,1191,1408,768,1408 C,571,1408,380,1329,239,1196 L,109,1325 C,91,1344,63,1349,40,1339 C,16,1329,0,1306,0,1280 L,0,832 C,0,797,29,768,64,768 L,512,768 C,538,768,561,784,571,808 C,581,831,576,859,557,877 L,420,1015 C,513,1102,637,1152,768,1152 C,1050,1152,1280,922,1280,640 C,1280,358,1050,128,768,128 C,609,128,462,200,364,327 C,359,334,350,338,341,339 C,332,339,323,336,316,330 L,179,192 C,168,181,167,162,177,149 C,323,-27,539,-128,768,-128 C,1191,-128,1536,217,1536,640 Z"},paste:{advanceWidth:1792,commands:"M,768,-128 L,768,1024 L,1152,1024 L,1152,608 C,1152,555,1195,512,1248,512 L,1664,512 L,1664,-128 M,1024,1312 C,1024,1295,1009,1280,992,1280 L,288,1280 C,271,1280,256,1295,256,1312 L,256,1376 C,256,1393,271,1408,288,1408 L,992,1408 C,1009,1408,1024,1393,1024,1376 L,1024,1312 M,1280,640 L,1280,939 L,1579,640 M,1792,512 C,1792,565,1762,638,1724,676 L,1316,1084 C,1305,1095,1293,1104,1280,1112 L,1280,1440 C,1280,1493,1237,1536,1184,1536 L,96,1536 C,43,1536,0,1493,0,1440 L,0,96 C,0,43,43,0,96,0 L,640,0 L,640,-160 C,640,-213,683,-256,736,-256 L,1696,-256 C,1749,-256,1792,-213,1792,-160 Z"},folder_open_alt:{advanceWidth:1920,commands:"M,1781,605 C,1781,590,1772,577,1763,566 L,1469,203 C,1435,161,1365,128,1312,128 L,224,128 C,202,128,171,135,171,163 C,171,178,180,191,189,203 L,483,566 C,517,607,587,640,640,640 L,1728,640 C,1750,640,1781,633,1781,605 M,640,768 C,549,768,442,717,384,646 L,128,331 L,128,1184 C,128,1237,171,1280,224,1280 L,544,1280 C,597,1280,640,1237,640,1184 L,640,1120 C,640,1067,683,1024,736,1024 L,1312,1024 C,1365,1024,1408,981,1408,928 L,1408,768 M,1909,605 C,1909,629,1904,652,1894,673 C,1864,737,1796,768,1728,768 L,1536,768 L,1536,928 C,1536,1051,1435,1152,1312,1152 L,768,1152 L,768,1184 C,768,1307,667,1408,544,1408 L,224,1408 C,101,1408,0,1307,0,1184 L,0,224 C,0,101,101,0,224,0 L,1312,0 C,1402,0,1511,52,1568,122 L,1863,485 C,1890,519,1909,561,1909,605 Z"}}}},{}],13:[function(e,t,n){function i(e,t,n,i){var s={padding:"0.2em 0.4em",margin:"0em",background:"none",outline:"none",fontSize:"16px",border:"none",borderRadius:"0.2em"},l=document.createElement("button");r(l,s);var d=document.createElement("canvas"),c=d.getContext("2d");l.appendChild(d),this.ctx=c,this.dom=l,this.canvas=d;var u=this;this.size=e;var h=1;this.resize=function(){h=window.devicePixelRatio;var n=e,i=o.fonts[t];d.height=n*h,d.style.height=n+"px";var r=n/o.unitsPerEm,s=i.advanceWidth*r+.5|0;s+=2,n+=2,d.width=s*h,d.style.width=s+"px",c.fillStyle=a.c,u.draw()},i&&i.on("resize",this.resize),this.setSize=function(t){e=t,this.resize()},this.setIcon=function(e){u.icon=e,o.fonts[e]||console.error("Font icon not found!"),this.resize()},this.onClick=function(e){l.addEventListener("click",e)};var C,p=500;this.onLongHold=function(e){function t(t){t.preventDefault(),t.stopPropagation(),C=setTimeout(function(){C&&e()},p)}function n(){clearTimeout(C)}l.addEventListener("mousedown",t),l.addEventListener("touchstart",t),l.addEventListener("mouseup",n),l.addEventListener("mouseout",n),l.addEventListener("touchend",n)},this.setTip=function(e){n=e};var f={border:"1px solid "+a.b},m={border:"1px solid transparent"},L="none",v=(a.c,a.b);l.style.background=L,r(l,m),l.addEventListener("mouseover",function(){r(l,f),c.fillStyle=a.d,c.shadowColor=a.b,c.shadowBlur=.5*h,c.shadowOffsetX=1*h,c.shadowOffsetY=1*h,u.draw(),n&&i&&i.fire("status",n)}),l.addEventListener("mousedown",function(){l.style.background=v}),l.addEventListener("mouseup",function(){l.style.background=L,r(l,f)}),l.addEventListener("mouseout",function(){l.style.background=L,r(l,m),u.dropshadow=!1,c.fillStyle=a.c,c.shadowColor=null,c.shadowBlur=0,c.shadowOffsetX=0,c.shadowOffsetY=0,u.draw()}),t&&this.setIcon(t)}var o=e("./font.json"),a=e("../theme"),r=e("../utils").style;i.prototype.CMD_MAP={M:"moveTo",L:"lineTo",Q:"quadraticCurveTo",C:"bezierCurveTo",Z:"closePath"},i.prototype.draw=function(){if(this.icon){var e=this.ctx,t=o.fonts[this.icon],n=this.size,i=window.devicePixelRatio,r=n/o.unitsPerEm*i,s=t.commands.split(" ");if(e.save(),e.clearRect(0,0,this.canvas.width*i,this.canvas.height*i),this.dropshadow){e.save(),e.fillStyle=a.b,e.translate(1.5*i,1.5*i),e.scale(r,-r),e.translate(0,-o.ascender),e.beginPath();for(var l=0,d=s.length;d>l;l++){var c=s[l].split(","),u=c.slice(1);e[this.CMD_MAP[c[0]]].apply(e,u)}e.fill(),e.restore()}e.scale(r,-r),e.translate(0,-o.ascender),e.beginPath();for(var l=0,d=s.length;d>l;l++){var c=s[l].split(","),u=c.slice(1);e[this.CMD_MAP[c[0]]].apply(e,u)}e.fill(),e.restore()}},t.exports=i},{"../theme":7,"../utils":11,"./font.json":12}],14:[function(e,t,n){function i(e){function t(e){e.moved?l():h.focus()}function n(e){var t=e.dx,n=e.dy,i=1*c;f=C+t*i+n*-i,f=Math.max(d,f),p.onChange.fire(f,!0)}function i(e){C=f}function l(){p.onChange.fire(f)}e=e||{};var d=void 0===e.min?-(1/0):e.min,c=e.step||.1,u=e.precision||3,h=document.createElement("input");r(h,{textAlign:"center",fontSize:"10px",padding:"1px",cursor:"ns-resize",width:"40px",margin:0,marginRight:"10px",appearance:"none",outline:"none",border:0,background:"none",borderBottom:"1px dotted "+o.c,color:o.c});var C,p=this,f=0;this.onChange=new a,h.addEventListener("change",function(e){f=parseFloat(h.value,10),l()}),s(h,i,n,t),this.dom=h,this.setValue=function(e){f=e},this.paint=function(){null!=f&&(h.value=f.toFixed(u))}}var o=e("../theme"),a=e("do.js"),r=e("../utils").style,s=e("../utils").handleDrag;t.exports=i},{"../theme":7,"../utils":11,"do.js":1}],15:[function(e,t,n){function i(e,t,n){function i(e){e.preventDefault(),e.target==m?(y=e.clientY,document.addEventListener("mousemove",l,!1),document.addEventListener("mouseup",d,!1)):e.clientY<v?g.onScroll.fire("pageup"):e.clientY>v+L&&g.onScroll.fire("pagedown")}function l(e){e.preventDefault();var t=f-L,n=(e.clientY-y)/t;n>1&&(n=1),0>n&&(n=0),g.setPosition(n),g.onScroll.fire("scrollto",n)}function d(e){l(e),document.removeEventListener("mousemove",l,!1),document.removeEventListener("mouseup",d,!1)}var c=t?t:12,u=3,h=c+2*u,C=25,p=document.createElement("div");a.style(p,r);var f=e-2;p.style.height=f+"px",p.style.width=h+"px";var m=document.createElement("div");a.style(m,s),m.style.width=c+"px",m.style.height=e/2,m.style.top=0,m.style.left=u+"px",p.appendChild(m);var L,v,g=this;this.setLength=function(e){e=Math.max(Math.min(1,e),0),e*=f,L=Math.max(e,C),m.style.height=L+"px"},this.setHeight=function(t){e=t,f=e-2,p.style.height=f+"px"},this.setPosition=function(e){e=Math.max(Math.min(1,e),0);var t=f-L;v=e*t,m.style.top=v},this.setLength(1),this.setPosition(0),this.onScroll=new o;var y;p.addEventListener("mousedown",i,!1),this.dom=p}var o=e("do.js"),a=e("../utils"),r={position:"absolute",background:"-webkit-gradient(linear, left top, right top, color-stop(0, rgb(29,29,29)), color-stop(0.6, rgb(50,50,50)) )",border:"1px solid rgb(29, 29, 29)",textAlign:"center",cursor:"pointer"},s={background:"-webkit-gradient(linear, left top, right top, color-stop(0.2, rgb(88,88,88)), color-stop(0.6, rgb(64,64,64)) )",border:"1px solid rgb(25,25,25)",position:"relative",borderRadius:"6px"};t.exports=i},{"../utils":11,"do.js":1}]},{},[3,4,5,6,7,8,9,10,11]);