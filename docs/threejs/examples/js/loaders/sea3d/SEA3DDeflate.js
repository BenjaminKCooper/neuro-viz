"use strict";SEA3D.Deflate=function(){var r,t,n,e,i,f,u,o,s,l,a,h,A,w,c,b,y,m=32768,v=0,B=9,D=6,M=null,X=new Array(0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535),d=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0),g=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99),E=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577),k=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),S=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15),U=function(){this.next=null,this.list=null},p=function(){this.e=0,this.b=0,this.n=0,this.t=null},x=function(r,t,n,e,i,f){this.BMAX=16,this.N_MAX=288,this.status=0,this.root=null,this.m=0;var u,o,s,l,a,h,A,w,c,b,y,m,v,B,D,M,X,d=new Array(this.BMAX+1),g=new Array(this.BMAX+1),E=new p,k=new Array(this.BMAX),S=new Array(this.N_MAX),x=new Array(this.BMAX+1);for(X=this.root=null,h=0;h<d.length;h++)d[h]=0;for(h=0;h<g.length;h++)g[h]=0;for(h=0;h<k.length;h++)k[h]=null;for(h=0;h<S.length;h++)S[h]=0;for(h=0;h<x.length;h++)x[h]=0;o=t>256?r[256]:this.BMAX,c=r,b=0,h=t;do d[c[b]]++,b++;while(--h>0);if(d[0]==t)return this.root=null,this.m=0,void(this.status=0);for(A=1;A<=this.BMAX&&0==d[A];A++);for(w=A,f<A&&(f=A),h=this.BMAX;0!=h&&0==d[h];h--);for(l=h,f>h&&(f=h),B=1<<A;A<h;A++,B<<=1)if((B-=d[A])<0)return this.status=2,void(this.m=f);if((B-=d[h])<0)return this.status=2,void(this.m=f);for(d[h]+=B,x[1]=A=0,c=d,b=1,v=2;--h>0;)x[v++]=A+=c[b++];c=r,b=0,h=0;do 0!=(A=c[b++])&&(S[x[A]++]=h);while(++h<t);for(t=x[l],x[0]=h=0,c=S,b=0,a=-1,m=g[0]=0,y=null,D=0;w<=l;w++)for(u=d[w];u-- >0;){for(;w>m+g[1+a];){if(m+=g[1+a],a++,D=(D=l-m)>f?f:D,(s=1<<(A=w-m))>u+1)for(s-=u+1,v=w;++A<D&&!((s<<=1)<=d[++v]);)s-=d[v];for(m+A>o&&m<o&&(A=o-m),D=1<<A,g[1+a]=A,y=new Array(D),M=0;M<D;M++)y[M]=new p;X=null==X?this.root=new U:X.next=new U,X.next=null,X.list=y,k[a]=y,a>0&&(x[a]=h,E.b=g[a],E.e=16+A,E.t=y,A=(h&(1<<m)-1)>>m-g[a],k[a-1][A].e=E.e,k[a-1][A].b=E.b,k[a-1][A].n=E.n,k[a-1][A].t=E.t)}for(E.b=w-m,b>=t?E.e=99:c[b]<n?(E.e=c[b]<256?16:15,E.n=c[b++]):(E.e=i[c[b]-n],E.n=e[c[b++]-n]),s=1<<w-m,A=h>>m;A<D;A+=s)y[A].e=E.e,y[A].b=E.b,y[A].n=E.n,y[A].t=E.t;for(A=1<<w-1;0!=(h&A);A>>=1)h^=A;for(h^=A;(h&(1<<m)-1)!=x[a];)m-=g[a],a--}this.m=g[1],this.status=0!=B&&1!=l?1:0},F=function(){return b.length==y?-1:b[y++]},H=function(r){for(;u<r;)f|=F()<<u,u+=8},N=function(r){return f&X[r]},_=function(r){f>>=r,u-=r},j=function(n,e,i){var f,u,s;if(0==i)return 0;for(s=0;;){for(H(w),u=h.list[N(w)],f=u.e;f>16;){if(99==f)return-1;_(u.b),f-=16,H(f),u=u.t[N(f)],f=u.e}if(_(u.b),16!=f){if(15==f)break;for(H(f),l=u.n+N(f),_(f),H(c),u=A.list[N(c)],f=u.e;f>16;){if(99==f)return-1;_(u.b),f-=16,H(f),u=u.t[N(f)],f=u.e}for(_(u.b),H(f),a=t-u.n-N(f),_(f);l>0&&s<i;)l--,a&=m-1,t&=m-1,n[e+s++]=r[t++]=r[a++];if(s==i)return i}else if(t&=m-1,n[e+s++]=r[t++]=u.n,s==i)return i}return o=-1,s},q=function(n,e,i){var s;if(s=7&u,_(s),H(16),s=N(16),_(16),H(16),s!=(65535&~f))return-1;for(_(16),l=s,s=0;l>0&&s<i;)l--,t&=m-1,H(8),n[e+s++]=r[t++]=N(8),_(8);return 0==l&&(o=-1),s},z=function(r,t,f){if(null==M){var u,o,s=new Array(288);for(u=0;u<144;u++)s[u]=8;for(;u<256;u++)s[u]=9;for(;u<280;u++)s[u]=7;for(;u<288;u++)s[u]=8;if(e=7,o=new x(s,288,257,d,g,e),0!=o.status)return alert("HufBuild error: "+o.status),-1;for(M=o.root,e=o.m,u=0;u<30;u++)s[u]=5;if(i=5,o=new x(s,30,0,E,k,i),o.status>1)return M=null,alert("HufBuild error: "+o.status),-1;n=o.root,i=o.m}return h=M,A=n,w=e,c=i,j(r,t,f)},C=function(r,t,n){var e,i,f,u,o,s,l,a,b,y=new Array(316);for(e=0;e<y.length;e++)y[e]=0;if(H(5),l=257+N(5),_(5),H(5),a=1+N(5),_(5),H(4),s=4+N(4),_(4),l>286||a>30)return-1;for(i=0;i<s;i++)H(3),y[S[i]]=N(3),_(3);for(;i<19;i++)y[S[i]]=0;if(w=7,b=new x(y,19,19,null,null,w),0!=b.status)return-1;for(h=b.root,w=b.m,u=l+a,e=f=0;e<u;)if(H(w),o=h.list[N(w)],i=o.b,_(i),i=o.n,i<16)y[e++]=f=i;else if(16==i){if(H(2),i=3+N(2),_(2),e+i>u)return-1;for(;i-- >0;)y[e++]=f}else if(17==i){if(H(3),i=3+N(3),_(3),e+i>u)return-1;for(;i-- >0;)y[e++]=0;f=0}else{if(H(7),i=11+N(7),_(7),e+i>u)return-1;for(;i-- >0;)y[e++]=0;f=0}if(w=B,b=new x(y,l,257,d,g,w),0==w&&(b.status=1),0!=b.status)return-1;for(h=b.root,w=b.m,e=0;e<a;e++)y[e]=y[e+l];return c=D,b=new x(y,a,0,E,k,c),A=b.root,c=b.m,0==c&&l>257?-1:0!=b.status?-1:j(r,t,n)},G=function(){null==r&&(r=new Array(2*m)),t=0,f=0,u=0,o=-1,s=!1,l=a=0,h=null},I=function(n,e,i){var f,u;for(f=0;f<i;){if(s&&o==-1)return f;if(l>0){if(o!=v)for(;l>0&&f<i;)l--,a&=m-1,t&=m-1,n[e+f++]=r[t++]=r[a++];else{for(;l>0&&f<i;)l--,t&=m-1,H(8),n[e+f++]=r[t++]=N(8),_(8);0==l&&(o=-1)}if(f==i)return f}if(o==-1){if(s)break;H(1),0!=N(1)&&(s=!0),_(1),H(2),o=N(2),_(2),h=null,l=0}switch(o){case 0:u=q(n,e+f,i-f);break;case 1:u=null!=h?j(n,e+f,i-f):z(n,e+f,i-f);break;case 2:u=null!=h?j(n,e+f,i-f):C(n,e+f,i-f);break;default:u=-1}if(u==-1)return s?0:-1;f+=u}return f},J=function(r){var t,n,e=0;G(),b=new Uint8Array(r),y=0;for(var i=new Uint8Array(1024),f=[];(t=I(i,0,i.length))>0;)for(n=0;n<t;n++)f[e++]=i[n];return b=null,new Uint8Array(f).buffer};return{inflate:J}}(),SEA3D.File.DeflateUncompress=function(r){return SEA3D.Deflate.inflate(r)},SEA3D.File.setDecompressionEngine(1,"deflate",SEA3D.File.DeflateUncompress);