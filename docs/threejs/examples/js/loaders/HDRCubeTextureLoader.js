THREE.HDRCubeTextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager,this.hdrLoader=new THREE.RGBELoader},THREE.HDRCubeTextureLoader.prototype.load=function(e,a,n,r,t){function i(n,r,t,i){var T=new THREE.FileLoader(this.manager);T.setResponseType("arraybuffer"),T.load(a[n],function(a){g++;var t=R._parser(a);if(t){if(e===THREE.FloatType){for(var i=t.data.length/4*3,T=new Float32Array(i),f=0;f<i;f++)E(t.data,4*f,T,3*f);t.data=T}else if(e===THREE.HalfFloatType){for(var i=t.data.length/4*3,H=new Uint16Array(i),f=0;f<i;f++)o(t.data,4*f,H,3*f);t.data=H}if(void 0!==t.image)d[n].images=t.image;else if(void 0!==t.data){var l=new THREE.DataTexture(t.data,t.width,t.height);l.format=d.format,l.type=d.type,l.encoding=d.encoding,l.minFilter=d.minFilter,l.magFilter=d.magFilter,l.generateMipmaps=d.generateMipmaps,d.images[n]=l}6===g&&(d.needsUpdate=!0,r&&r(d))}},t,i)}var E=function(e,a,n,r){var t=e[a+3],i=Math.pow(2,t-128)/255;n[r+0]=e[a+0]*i,n[r+1]=e[a+1]*i,n[r+2]=e[a+2]*i},o=function(){function e(e){a[0]=e;var r=n[0],t=r>>16&32768,i=r>>12&2047,E=r>>23&255;return E<103?t:E>142?(t|=31744,t|=(255==E?0:1)&&8388607&r):E<113?(i|=2048,t|=(i>>114-E)+(i>>113-E&1)):(t|=E-112<<10|i>>1,t+=1&i)}var a=new Float32Array(1),n=new Int32Array(a.buffer);return function(a,n,r,t){var i=a[n+3],E=Math.pow(2,i-128)/255;r[t+0]=e(a[n+0]*E),r[t+1]=e(a[n+1]*E),r[t+2]=e(a[n+2]*E)}}(),d=new THREE.CubeTexture;d.type=e,d.encoding=e===THREE.UnsignedByteType?THREE.RGBEEncoding:THREE.LinearEncoding,d.format=e===THREE.UnsignedByteType?THREE.RGBAFormat:THREE.RGBFormat,d.minFilter=d.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter,d.magFilter=d.encoding===THREE.RGBEEncoding?THREE.NearestFilter:THREE.LinearFilter,d.generateMipmaps=d.encoding!==THREE.RGBEEncoding,d.anisotropy=0;for(var R=this.hdrLoader,g=0,T=0;T<a.length;T++)i(T,n,r,t);return d};