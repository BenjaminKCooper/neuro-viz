THREE.CubeTextureNode=function(e,t,o){THREE.InputNode.call(this,"v4",{shared:!0}),this.value=e,this.coord=t||new THREE.ReflectNode,this.bias=o},THREE.CubeTextureNode.prototype=Object.create(THREE.InputNode.prototype),THREE.CubeTextureNode.prototype.constructor=THREE.CubeTextureNode,THREE.CubeTextureNode.prototype.getTexture=function(e,t){return THREE.InputNode.prototype.generate.call(this,e,t,this.value.uuid,"t")},THREE.CubeTextureNode.prototype.generate=function(e,t){if("samplerCube"===t)return this.getTexture(e,t);var o=this.getTexture(e,t),r=this.coord.build(e,"v3"),i=this.bias?this.bias.build(e,"fv1"):void 0;void 0==i&&e.requires.bias&&(i=e.requires.bias.build(e,"fv1"));var u;return u=i?"texCubeBias("+o+","+r+","+i+")":"texCube("+o+","+r+")",e.isSlot("color")?u="mapTexelToLinear("+u+")":e.isSlot("emissive")?u="emissiveMapTexelToLinear("+u+")":e.isSlot("environment")&&(u="envMapTexelToLinear("+u+")"),e.format(u,this.type,t)};