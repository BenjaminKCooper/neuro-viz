<!DOCTYPE html><html lang="en"><head>
		<title>three.js misc - ubiquity - test2</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				background-color: #000;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<script src="../build/three.js"></script>

		<script src="js/renderers/Projector.js"></script>
		<script src="js/renderers/CanvasRenderer.js"></script>

		<script src="js/libs/stats.min.js"></script>

		<div id="container1" style="float: left"></div>
		<div id="container2" style="float: right"></div>

		<script>function init(){var e=window.innerWidth/2-2,t=window.innerHeight;camera=new THREE.PerspectiveCamera(70,e/t,1,4e3),camera.position.z=2e3,scene=new THREE.Scene;var a=new THREE.TextureLoader;texture=a.load("textures/UV_Grid_Sm.jpg"),texture.wrapS=THREE.RepeatWrapping,texture.wrapT=THREE.RepeatWrapping;var r=new THREE.BoxGeometry(150,150,150,4,4,4),n=new THREE.MeshBasicMaterial({map:texture,overdraw:.5});mesh=new THREE.Mesh(r,n),scene.add(mesh),texture1=a.load("textures/UV_Grid_Sm.jpg",function(){texture1.wrapS=THREE.ClampToEdgeWrapping,texture1.wrapT=THREE.ClampToEdgeWrapping;for(var e=0;e<20;e++){var t=texture1.clone();t.needsUpdate=!0,t.offset.x=.1*THREE.Math.randInt(0,7),t.offset.y=.1*THREE.Math.randInt(0,7),t.repeat.x=.1*THREE.Math.randInt(1,3),t.repeat.y=.1*THREE.Math.randInt(1,3);var a=new THREE.SpriteMaterial({map:t});a.rotation=.5*Math.PI*(Math.random()-.5);var r=new THREE.Sprite(a);r.position.x=1e3*Math.random()-500,r.position.y=1e3*Math.random()-500,r.position.z=1e3*Math.random()-500,r.scale.set(96,96,1),scene.add(r)}}),texture2=a.load("textures/sprite0.jpg"),texture2.wrapS=THREE.RepeatWrapping,texture2.wrapT=THREE.RepeatWrapping;for(var i=0;i<20;i++){var n=new THREE.SpriteMaterial({map:texture2,opacity:.7}),o=new THREE.Sprite(n);o.material.rotation=.5*Math.PI*(Math.random()-.5),o.position.x=1e3*Math.random()-500,o.position.y=1e3*Math.random()-500,o.position.z=1e3*Math.random()-500,o.scale.set(64,64,1),scene.add(o)}texture3=a.load("textures/sprite1.png"),texture3.wrapS=THREE.ClampToEdgeWrapping,texture3.wrapT=THREE.ClampToEdgeWrapping;for(var i=0;i<20;i++){var n=new THREE.SpriteMaterial({map:texture3});n.rotation=2*Math.PI*(Math.random()-.5);var o=new THREE.Sprite(n);o.position.x=1e3*Math.random()-500,o.position.y=1e3*Math.random()-500,o.position.z=1e3*Math.random()-500,o.scale.set(64,64,1),scene.add(o)}canvasRenderer=new THREE.CanvasRenderer,canvasRenderer.setClearColor(15790320),canvasRenderer.setPixelRatio(window.devicePixelRatio),canvasRenderer.setSize(e,t);var s=document.getElementById("container1");s.appendChild(canvasRenderer.domElement),webglRenderer=new THREE.WebGLRenderer({antialias:!0}),webglRenderer.setClearColor(15790320),webglRenderer.setPixelRatio(window.devicePixelRatio),webglRenderer.setSize(e,t);var d=document.getElementById("container2");d.appendChild(webglRenderer.domElement),stats=new Stats,document.body.appendChild(stats.dom),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){var e=window.innerWidth/2-2,t=window.innerHeight;camera.aspect=e/t,camera.updateProjectionMatrix(),canvasRenderer.setSize(e,t),webglRenderer.setSize(e,t)}function animate(){requestAnimationFrame(animate),render(),stats.update()}function render(){var e=1e-4*performance.now();camera.position.x=500*Math.sin(e),camera.position.z=500*Math.cos(e),camera.lookAt(scene.position),texture.repeat.x=.5*Math.sin(e)+1,texture.repeat.y=.5*Math.cos(e)+1,texture.offset.x=.5*Math.sin(e)+.5,texture.offset.y=.5*Math.cos(e)+.5,mesh.rotation.x=2*e,mesh.rotation.y=4*e,texture2.repeat.x=Math.sin(e)+1.25,texture2.repeat.y=Math.sin(e)+1.25,texture2.offset.x=Math.sin(e),texture2.offset.y=Math.cos(e),canvasRenderer.render(scene,camera),webglRenderer.render(scene,camera)}var stats,camera,scene,canvasRenderer,webglRenderer,mesh,texture,texture1,texture2,texture3;init(),animate();</script>

	


</body></html>