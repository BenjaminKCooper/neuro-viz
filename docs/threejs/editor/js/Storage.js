var Storage=function(){var e=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB;if(void 0===e)return console.warn("Storage: IndexedDB not available."),{init:function(){},get:function(){},set:function(){},clear:function(){}};var t,n="threejs-editor",o=1;return{init:function(r){var a=e.open(n,o);a.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("states")===!1&&t.createObjectStore("states")},a.onsuccess=function(e){t=e.target.result,r()},a.onerror=function(e){console.error("IndexedDB",e)}},get:function(e){var n=t.transaction(["states"],"readwrite"),o=n.objectStore("states"),r=o.get(0);r.onsuccess=function(t){e(t.target.result)}},set:function(e,n){var o=performance.now(),r=t.transaction(["states"],"readwrite"),a=r.objectStore("states"),s=a.put(e,0);s.onsuccess=function(e){console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Saved state to IndexedDB. "+(performance.now()-o).toFixed(2)+"ms")}},clear:function(){if(void 0!==t){var e=t.transaction(["states"],"readwrite"),n=e.objectStore("states"),o=n.clear();o.onsuccess=function(e){console.log("["+/\d\d\:\d\d\:\d\d/.exec(new Date)[0]+"]","Cleared IndexedDB.")}}}}};