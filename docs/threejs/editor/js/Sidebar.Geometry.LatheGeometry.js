Sidebar.Geometry.LatheGeometry=function(e,t){function n(e,t){var n=new UI.Div,r=new UI.Text(s+1).setWidth("20px"),o=new UI.Number(e).setRange(0,1/0).setWidth("40px").onChange(d),i=new UI.Number(t).setWidth("40px").onChange(d),h=s,w=new UI.Button("-").onClick(function(){a(h)});return U.push({row:n,lbl:r,x:o,y:i}),s++,n.add(r,o,i,w),n}function a(e){U[e]&&(x.remove(U[e].row),U[e]=null,d())}function d(){for(var n=[],a=0,d=0;d<U.length;d++){var r=U[d];r&&(n.push(new THREE.Vector2(r.x.getValue(),r.y.getValue())),a++,r.lbl.setValue(a))}e.execute(new SetGeometryCommand(t,new THREE[o.type](n,w.getValue(),l.getValue()/180*Math.PI,g.getValue()/180*Math.PI)))}var r=(e.signals,new UI.Row),o=t.geometry,i=o.parameters,h=new UI.Row,w=new UI.Integer(i.segments).onChange(d);h.add(new UI.Text("Segments").setWidth("90px")),h.add(w),r.add(h);var u=new UI.Row,l=new UI.Number(180*i.phiStart/Math.PI).onChange(d);u.add(new UI.Text("Phi start (°)").setWidth("90px")),u.add(l),r.add(u);var I=new UI.Row,g=new UI.Number(180*i.phiLength/Math.PI).onChange(d);I.add(new UI.Text("Phi length (°)").setWidth("90px")),I.add(g),r.add(I);var s=0,U=[],m=new UI.Row;m.add(new UI.Text("Points").setWidth("90px"));var p=(new UI.Span).setDisplay("inline-block");m.add(p);var x=new UI.Div;p.add(x);for(var v=0;v<i.points.length;v++){var y=i.points[v];x.add(n(y.x,y.y))}var c=new UI.Button("+").onClick(function(){if(0===U.length)x.add(n(0,0));else{var e=U[U.length-1];x.add(n(e.x.getValue(),e.y.getValue()))}d()});return p.add(c),r.add(m),r},Sidebar.Geometry.LatheBufferGeometry=Sidebar.Geometry.LatheGeometry;