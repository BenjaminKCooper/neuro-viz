module("SetMaterialCommand"),test("Test for SetMaterialCommand (Undo and Redo)",function(){var a=new Editor,e=aBox("Material girl in a material world"),t=new AddObjectCommand(e);t.updatable=!1,a.execute(t),materialClasses=["LineBasicMaterial","LineDashedMaterial","MeshBasicMaterial","MeshDepthMaterial","MeshLambertMaterial","MeshNormalMaterial","MeshPhongMaterial","ShaderMaterial","SpriteMaterial"],materialClasses.map(function(t){material=new THREE[t],a.execute(new SetMaterialCommand(e,material))});var l=materialClasses.length-1;for(ok(e.material.type==materialClasses[l],"OK, initial material type was set correctly (expected: '"+materialClasses[l]+"', actual: '"+e.material.type+"')");l>0;)a.undo(),--l,ok(e.material.type==materialClasses[l],"OK, material type was set correctly after undo (expected: '"+materialClasses[l]+"', actual: '"+e.material.type+"')");for(;l<materialClasses.length-1;)a.redo(),++l,ok(e.material.type==materialClasses[l],"OK, material type was set correctly after redo (expected: '"+materialClasses[l]+"', actual: '"+e.material.type+"')")});