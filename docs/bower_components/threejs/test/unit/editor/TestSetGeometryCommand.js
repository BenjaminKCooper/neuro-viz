module("SetGeometryCommand"),test("Test SetGeometryCommand (Undo and Redo)",function(){var e=new Editor,t=aBox("Guinea Pig"),o={geometry:{parameters:{width:200,height:201,depth:202,widthSegments:2,heightSegments:3,depthSegments:4}}},r={geometry:{parameters:{width:50,height:51,depth:52,widthSegments:7,heightSegments:8,depthSegments:9}}},h=[o,r],m=new AddObjectCommand(t);m.updatable=!1,e.execute(m);for(var d=0;d<h.length;d++){var m=new SetGeometryCommand(t,getGeometry("BoxGeometry",h[d]));m.updatable=!1,e.execute(m);var n=t.geometry.parameters,g=h[d].geometry.parameters;ok(n.width==g.width,"OK, box width matches the corresponding value from boxGeometry"+(d+1)),ok(n.height==g.height,"OK, box height matches the corresponding value from boxGeometry"+(d+1)),ok(n.depth==g.depth,"OK, box depth matches the corresponding value from boxGeometry"+(d+1)),ok(n.widthSegments==g.widthSegments,"OK, box widthSegments matches the corresponding value from boxGeometry"+(d+1)),ok(n.heightSegments==g.heightSegments,"OK, box heightSegments matches the corresponding value from boxGeometry"+(d+1)),ok(n.depthSegments==g.depthSegments,"OK, box depthSegments matches the corresponding value from boxGeometry"+(d+1))}e.undo();var n=t.geometry.parameters,g=h[0].geometry.parameters;ok(n.width==g.width,"OK, box width matches the corresponding value from boxGeometry1 (after undo)"),ok(n.height==g.height,"OK, box height matches the corresponding value from boxGeometry1 (after undo)"),ok(n.depth==g.depth,"OK, box depth matches the corresponding value from boxGeometry1 (after undo)"),ok(n.widthSegments==g.widthSegments,"OK, box widthSegments matches the corresponding value from boxGeometry1 (after undo)"),ok(n.heightSegments==g.heightSegments,"OK, box heightSegments matches the corresponding value from boxGeometry1 (after undo)"),ok(n.depthSegments==g.depthSegments,"OK, box depthSegments matches the corresponding value from boxGeometry1 (after undo)"),e.redo();var n=t.geometry.parameters,g=h[1].geometry.parameters;ok(n.width==g.width,"OK, box width matches the corresponding value from boxGeometry2 (after redo)"),ok(n.height==g.height,"OK, box height matches the corresponding value from boxGeometry2 (after redo)"),ok(n.depth==g.depth,"OK, box depth matches the corresponding value from boxGeometry2 (after redo)"),ok(n.widthSegments==g.widthSegments,"OK, box widthSegments matches the corresponding value from boxGeometry2 (after redo)"),ok(n.heightSegments==g.heightSegments,"OK, box heightSegments matches the corresponding value from boxGeometry2 (after redo)"),ok(n.depthSegments==g.depthSegments,"OK, box depthSegments matches the corresponding value from boxGeometry2 (after redo)")});