module("AnimationObjectGroup");var ObjectA=new THREE.Object3D,ObjectB=new THREE.Object3D,ObjectC=new THREE.Object3D,PathA="object.position",PathB="object.rotation",PathC="object.scale",ParsedPathA=THREE.PropertyBinding.parseTrackName(PathA),ParsedPathB=THREE.PropertyBinding.parseTrackName(PathB),ParsedPathC=THREE.PropertyBinding.parseTrackName(PathC);test("smoke test",function(){var t=function(t,e,a,c,b,r){for(var j=[],o=!0,O=!0,n=e.nCachedObjects_,h=a.length;n!==h;++n)a[n].path!==c&&(o=!1),j.push(a[n].rootNode);for(var n=0,h=r.length;n!==h;++n)j.indexOf(r[n])===-1&&(O=!1);ok(o,t+" paths"),ok(O,t+" nodes"),ok(e.nCachedObjects_===b,t+" cache size"),ok(a.length-e.nCachedObjects_===r.length,t+" object count")},e=new THREE.AnimationObjectGroup;ok(e instanceof THREE.AnimationObjectGroup,"constructor (w/o args)");var a=e.subscribe_(PathA,ParsedPathA);t(0,e,a,PathA,0,[]);var c=new THREE.AnimationObjectGroup(ObjectA,ObjectB);ok(c instanceof THREE.AnimationObjectGroup,"constructor (with args)");var b=c.subscribe_(PathB,ParsedPathB);t(1,c,b,PathB,0,[ObjectA,ObjectB]),e.add(ObjectA,ObjectB),t(2,e,a,PathA,0,[ObjectA,ObjectB]),c.add(ObjectC),t(3,c,b,PathB,0,[ObjectA,ObjectB,ObjectC]),e.remove(ObjectA,ObjectC),t(4,e,a,PathA,1,[ObjectB]),c.remove(ObjectA,ObjectB,ObjectC),t(5,c,b,PathB,3,[]),e.add(ObjectC),t(6,e,a,PathA,1,[ObjectB,ObjectC]);var r=e.subscribe_(PathC,ParsedPathC);t(7,e,r,PathC,1,[ObjectB,ObjectC]);var j=c.subscribe_(PathC,ParsedPathC);c.add(ObjectA,ObjectB),t(8,c,b,PathB,1,[ObjectA,ObjectB]);var o=j.slice();c.unsubscribe_(PathC),c.add(ObjectC),deepEqual(j,o,"no more update after unsubscribe"),c.uncache(ObjectA),t(9,c,b,PathB,0,[ObjectB,ObjectC]),e.uncache(ObjectA),t(10,e,r,PathC,0,[ObjectB,ObjectC])});