Menubar.Edit=function(e){var n=new UI.Panel;n.setClass("menu");var t=new UI.Panel;t.setClass("title"),t.setTextContent("Edit"),n.add(t);var a=new UI.Panel;a.setClass("options"),n.add(a);var o=new UI.Row;o.setClass("option"),o.setTextContent("Undo (Ctrl+Z)"),o.onClick(function(){e.undo()}),a.add(o);var s=new UI.Row;s.setClass("option"),s.setTextContent("Redo (Ctrl+Shift+Z)"),s.onClick(function(){e.redo()}),a.add(s);var r=new UI.Row;r.setClass("option"),r.setTextContent("Clear History"),r.onClick(function(){confirm("The Undo/Redo History will be cleared. Are you sure?")&&e.history.clear()}),a.add(r),e.signals.historyChanged.add(function(){var n=e.history;o.setClass("option"),s.setClass("option"),0==n.undos.length&&o.setClass("inactive"),0==n.redos.length&&s.setClass("inactive")}),a.add(new UI.HorizontalRule);var r=new UI.Row;r.setClass("option"),r.setTextContent("Clone"),r.onClick(function(){var n=e.selected;null!==n.parent&&(n=n.clone(),e.execute(new AddObjectCommand(n)))}),a.add(r);var r=new UI.Row;r.setClass("option"),r.setTextContent("Delete (Del)"),r.onClick(function(){var n=e.selected;if(confirm("Delete "+n.name+"?")!==!1){var t=n.parent;void 0!==t&&e.execute(new RemoveObjectCommand(n))}}),a.add(r);var r=new UI.Row;return r.setClass("option"),r.setTextContent("Minify Shaders"),r.onClick(function(){function n(e){s.length=0;var t=e.parent;return void 0!==t&&n(t),s.push(e.name||e.uuid),s}var t=e.selected||e.scene,a=[],o=0,s=[],r=[];t.traverse(function(e){var t=e.material;if(t instanceof THREE.ShaderMaterial)try{var s=glslprep.minifyGlsl([t.vertexShader,t.fragmentShader]);r.push(new SetMaterialValueCommand(e,"vertexShader",s[0])),r.push(new SetMaterialValueCommand(e,"fragmentShader",s[1])),++o}catch(t){var i=n(e).join("/");t instanceof glslprep.SyntaxError?a.push(i+":"+t.line+":"+t.column+": "+t.message):(a.push(i+": Unexpected error (see console for details)."),console.error(t.stack||t))}}),o>0&&e.execute(new MultiCmdsCommand(r),"Minify Shaders"),window.alert(o+" material(s) were changed.\n"+a.join("\n"))}),a.add(r),n};