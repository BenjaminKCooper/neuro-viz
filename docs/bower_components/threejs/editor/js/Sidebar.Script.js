Sidebar.Script=function(e){function n(){d.clear(),d.setDisplay("none");var n=e.selected;if(null!==n){var a=e.scripts[n.uuid];if(void 0!==a){d.setDisplay("block");for(var i=0;i<a.length;i++)!function(n,a){var i=new UI.Input(a.name).setWidth("130px").setFontSize("12px");i.onChange(function(){e.execute(new SetScriptValueCommand(e.selected,a,"name",this.getValue()))}),d.add(i);var c=new UI.Button("Edit");c.setMarginLeft("4px"),c.onClick(function(){t.editScript.dispatch(n,a)}),d.add(c);var r=new UI.Button("Remove");r.setMarginLeft("4px"),r.onClick(function(){confirm("Are you sure?")&&e.execute(new RemoveScriptCommand(e.selected,a))}),d.add(r),d.add(new UI.Break)}(n,a[i])}}}var t=e.signals,a=new UI.Panel;a.setDisplay("none"),a.add(new UI.Text("Script").setTextTransform("uppercase")),a.add(new UI.Break),a.add(new UI.Break);var d=new UI.Row;a.add(d);var i=new UI.Button("New");return i.onClick(function(){var n={name:"",source:"function update( event ) {}"};e.execute(new AddScriptCommand(e.selected,n))}),a.add(i),t.objectSelected.add(function(e){null!==e?(a.setDisplay("block"),n()):a.setDisplay("none")}),t.scriptAdded.add(n),t.scriptRemoved.add(n),t.scriptChanged.add(n),a};