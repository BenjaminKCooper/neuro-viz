<!DOCTYPE html><html lang="en"><head>
		<title>three.js webvr - video</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
		<style>
			body {
				font-family: Monospace;
				background-color: #f0f0f0;
				margin: 0px;
				overflow: hidden;
			}
			#info {
				position: absolute;
				top: 10px;
				width: 100%;
				color: #fff;
				text-align: center;
			}
			a {
				color: #ff0
			}
		</style>
	</head>
	<body>
		<div id="container"></div>
		<div id="info">
			<a href="http://threejs.org" target="_blank">three.js</a> webgl - vr video<br>
			stereoscopic panoramic render by <a href="http://pedrofe.com/rendering-for-oculus-rift-with-arnold/" target="_blank">pedrofe</a>. scene from <a href="http://www.meryproject.com/" target="_blank">mery project</a>.
		</div>

		<script src="../build/three.js"></script>

		<script src="js/controls/VRControls.js"></script>
		<script src="js/effects/VREffect.js"></script>
		<script src="js/vr/WebVR.js"></script>

		<script>function init(){var e=document.getElementById("container");e.addEventListener("click",function(){video.play()}),camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,2e3),camera.layers.enable(1),video=document.createElement("video"),video.loop=!0,video.muted=!0,video.src="textures/MaryOculus.webm",video.setAttribute("webkit-playsinline","webkit-playsinline"),video.play(),texture=new THREE.VideoTexture(video),texture.minFilter=THREE.NearestFilter,texture.maxFilter=THREE.NearestFilter,texture.format=THREE.RGBFormat,texture.generateMipmaps=!1,scene=new THREE.Scene;var t=new THREE.SphereGeometry(500,60,40);t.scale(-1,1,1);for(var n=t.faceVertexUvs[0],r=0;r<n.length;r++)for(var i=0;i<3;i++)n[r][i].x*=.5;var a=new THREE.MeshBasicMaterial({map:texture}),o=new THREE.Mesh(t,a);o.rotation.y=-Math.PI/2,o.layers.set(1),scene.add(o);var t=new THREE.SphereGeometry(500,60,40);t.scale(-1,1,1);for(var n=t.faceVertexUvs[0],r=0;r<n.length;r++)for(var i=0;i<3;i++)n[r][i].x*=.5,n[r][i].x+=.5;var a=new THREE.MeshBasicMaterial({map:texture}),o=new THREE.Mesh(t,a);o.rotation.y=-Math.PI/2,o.layers.set(2),scene.add(o),renderer=new THREE.WebGLRenderer,renderer.setClearColor(1052688),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),e.appendChild(renderer.domElement),controls=new THREE.VRControls(camera),effect=new THREE.VREffect(renderer),effect.scale=0,effect.setSize(window.innerWidth,window.innerHeight),WEBVR.isAvailable()===!0&&document.body.appendChild(WEBVR.getButton(effect)),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),effect.setSize(window.innerWidth,window.innerHeight)}function animate(){effect.requestAnimationFrame(animate),render()}function render(){controls.update(),effect.render(scene,camera)}WEBVR.isAvailable()===!1&&document.body.appendChild(WEBVR.getMessage());var camera,scene,renderer,video,texture,controls,effect;init(),animate();</script>
	

</body></html>