THREE.PeppersGhostEffect=function(e){var t=this;t.cameraDistance=15,t.reflectFromAbove=!1;var r,o,i,n=new THREE.PerspectiveCamera,a=new THREE.PerspectiveCamera,s=new THREE.PerspectiveCamera,c=new THREE.PerspectiveCamera,p=new THREE.Vector3,l=new THREE.Quaternion,E=new THREE.Vector3;e.autoClear=!1,this.setSize=function(t,n){r=t/2,t<n?(o=t/3,i=t/3):(o=n/3,i=n/3),e.setSize(t,n)},this.render=function(m,d){m.updateMatrixWorld(),null===d.parent&&d.updateMatrixWorld(),d.matrixWorld.decompose(p,l,E),n.position.copy(p),n.quaternion.copy(l),n.translateZ(t.cameraDistance),n.lookAt(m.position),a.position.copy(p),a.quaternion.copy(l),a.translateZ(-t.cameraDistance),a.lookAt(m.position),a.rotation.z+=180*(Math.PI/180),s.position.copy(p),s.quaternion.copy(l),s.translateX(-t.cameraDistance),s.lookAt(m.position),s.rotation.x+=90*(Math.PI/180),c.position.copy(p),c.quaternion.copy(l),c.translateX(t.cameraDistance),c.lookAt(m.position),c.rotation.x+=90*(Math.PI/180),e.clear(),e.setScissorTest(!0),e.setScissor(r-o/2,2*i,o,i),e.setViewport(r-o/2,2*i,o,i),t.reflectFromAbove?e.render(m,a):e.render(m,n),e.setScissor(r-o/2,0,o,i),e.setViewport(r-o/2,0,o,i),t.reflectFromAbove?e.render(m,n):e.render(m,a),e.setScissor(r-o/2-o,i,o,i),e.setViewport(r-o/2-o,i,o,i),t.reflectFromAbove?e.render(m,c):e.render(m,s),e.setScissor(r+o/2,i,o,i),e.setViewport(r+o/2,i,o,i),t.reflectFromAbove?e.render(m,s):e.render(m,c),e.setScissorTest(!1)}};