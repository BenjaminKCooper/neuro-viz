THREE.TextureNode=function(e,t,o,r){THREE.InputNode.call(this,"v4",{shared:!0}),this.value=e,this.coord=t||new THREE.UVNode,this.bias=o,this.project=void 0!==r&&r},THREE.TextureNode.prototype=Object.create(THREE.InputNode.prototype),THREE.TextureNode.prototype.constructor=THREE.TextureNode,THREE.TextureNode.prototype.getTexture=function(e,t){return THREE.InputNode.prototype.generate.call(this,e,t,this.value.uuid,"t")},THREE.TextureNode.prototype.generate=function(e,t){if("sampler2D"===t)return this.getTexture(e,t);var o=this.getTexture(e,t),r=this.coord.build(e,this.project?"v4":"v2"),i=this.bias?this.bias.build(e,"fv1"):void 0;void 0==i&&e.requires.bias&&(i=e.requires.bias.build(e,"fv1"));var s,u;return s=this.project?"texture2DProj":i?"tex2DBias":"tex2D",u=i?s+"("+o+","+r+","+i+")":s+"("+o+","+r+")",e.isSlot("color")?u="mapTexelToLinear("+u+")":e.isSlot("emissive")?u="emissiveMapTexelToLinear("+u+")":e.isSlot("environment")&&(u="envMapTexelToLinear("+u+")"),e.format(u,this.type,t)};