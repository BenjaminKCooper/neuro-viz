<!DOCTYPE html><html lang="en"><head>
		<title>threejs webgl - materials - transparency</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				color: #fff;
				font-family:Monospace;
				font-size:13px;
				text-align:center;

				background-color: #000;

				margin: 0px;
				overflow: hidden;
			}
			a { color: #eee }

			#info {
				position: absolute;
				top: 0px; width: 100%;
				padding: 5px;
			}
		</style>
	</head>
	<body>

		<div id="container"></div>
		<div id="info"><a href="http://threejs.org" target="_blank">threejs</a> - Transparency with Premultiplied Alpha (right) and without (left)<br> using RGBA8 Buffers by <a href="http://clara.io/" target="_blank">Ben Houston</a>.</div>

		<script src="../build/three.js"></script>
		<script src="js/controls/OrbitControls.js"></script>

		<script src="js/Detector.js"></script>
		<script src="js/libs/stats.min.js"></script>

		<script src="js/libs/dat.gui.min.js"></script>

		<script src="js/postprocessing/EffectComposer.js"></script>
		<script src="js/postprocessing/RenderPass.js"></script>
		<script src="js/postprocessing/MaskPass.js"></script>
		<script src="js/postprocessing/ShaderPass.js"></script>
		<script src="js/shaders/CopyShader.js"></script>
		<script src="js/shaders/FXAAShader.js"></script>
		<script src="js/postprocessing/BloomPass.js"></script>
		<script src="js/shaders/ConvolutionShader.js"></script>

		<script>function init(){container=document.createElement("div"),document.body.appendChild(container),camera=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,2e3),camera.position.set(0,40,140),scene=new THREE.Scene;var e=new THREE.SphereGeometry(18,30,30),n=new THREE.MeshStandardMaterial({opacity:params.opacity,transparent:!0}),a=new THREE.MeshStandardMaterial({opacity:params.opacity,premultipliedAlpha:!0,transparent:!0}),r=new THREE.TextureLoader;r.load("textures/hardwood2_diffuse.jpg",function(e){e.anisotropy=8,n.map=e,n.needsUpdate=!0,a.map=e,a.needsUpdate=!0});var r=new THREE.TextureLoader;r.load("textures/hardwood2_roughness.jpg",function(e){e.anisotropy=8,n.roughnessMap=e,n.needsUpdate=!0,a.roughnessMap=e,a.needsUpdate=!0});var t=new THREE.Mesh(e,n);t.position.x=-25,scene.add(t);var t=new THREE.Mesh(e,a);t.position.x=25,scene.add(t);var e=new THREE.PlaneBufferGeometry(800,800),o=new THREE.MeshStandardMaterial({color:3355443}),t=new THREE.Mesh(e,o);t.position.y=-50,t.rotation.x=.5*-Math.PI,scene.add(t);var i=new THREE.SpotLight(16746632);i.position.set(100,200,100),i.angle=Math.PI/6,i.penumbra=.9,scene.add(i);var i=new THREE.SpotLight(8947967);i.position.set(-100,-200,-100),i.angle=Math.PI/6,i.penumbra=.9,scene.add(i),renderer=new THREE.WebGLRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.shadowMap.enabled=!0,container.appendChild(renderer.domElement),renderer.gammaInput=!0,renderer.gammaOutput=!0,stats=new Stats,container.appendChild(stats.dom),controls=new THREE.OrbitControls(camera,renderer.domElement),controls.target.set(0,0,0),controls.update(),window.addEventListener("resize",onWindowResize,!1);var d=new dat.GUI;d.add(params,"opacity",0,1).onChange(function(){n.opacity=params.opacity,a.opacity=params.opacity}),d.open()}function onWindowResize(){var e=window.innerWidth,n=window.innerHeight;camera.aspect=e/n,camera.updateProjectionMatrix(),renderer.setSize(e,n)}function animate(){requestAnimationFrame(animate),stats.begin(),render(),stats.end()}function render(){for(var e=0,n=scene.children.length;e<n;e++){var a=scene.children[e];a.geometry instanceof THREE.SphereGeometry&&(a.rotation.x=2e-4*performance.now(),a.rotation.y=2e-4*-performance.now())}renderer.render(scene,camera)}Detector.webgl||Detector.addGetWebGLMessage();var params={opacity:.25},container,stats,camera,scene,renderer,controls;init(),animate();</script>
	

</body></html>