<!DOCTYPE html><html lang="en"><head>
		<title>three.js webgl - postprocessing - masking</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				background-color: #000;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<div id="container"></div>

		<script src="../build/three.js"></script>

		<script src="js/shaders/CopyShader.js"></script>

		<script src="js/postprocessing/EffectComposer.js"></script>
		<script src="js/postprocessing/ClearPass.js"></script>
		<script src="js/postprocessing/TexturePass.js"></script>
		<script src="js/postprocessing/ShaderPass.js"></script>
		<script src="js/postprocessing/MaskPass.js"></script>

		<script src="js/Detector.js"></script>
		<script src="js/libs/stats.min.js"></script>

		<script>function init(){var e=new THREE.PerspectiveCamera(50,window.innerWidth/window.innerHeight,1,1e3);e.position.z=10;var r=new THREE.Scene,o=new THREE.Scene;box=new THREE.Mesh(new THREE.BoxGeometry(4,4,4)),r.add(box),torus=new THREE.Mesh(new THREE.TorusGeometry(3,1,16,32)),o.add(torus),renderer=new THREE.WebGLRenderer({antialias:!1}),renderer.setClearColor(14737632),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.autoClear=!1,document.body.appendChild(renderer.domElement);var n=new THREE.ClearPass,a=new THREE.ClearMaskPass,s=new THREE.MaskPass(r,e),t=new THREE.MaskPass(o,e),i=(new THREE.TextureLoader).load("textures/758px-Canestra_di_frutta_(Caravaggio).jpg"),d=(new THREE.TextureLoader).load("textures/2294472375_24a3b8ef46_o.jpg"),E=new THREE.TexturePass(i),w=new THREE.TexturePass(d),T=new THREE.ShaderPass(THREE.CopyShader);T.renderToScreen=!0;var m={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBuffer:!0},R=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,m);composer=new THREE.EffectComposer(renderer,R),composer.addPass(n),composer.addPass(s),composer.addPass(E),composer.addPass(a),composer.addPass(t),composer.addPass(w),composer.addPass(a),composer.addPass(T)}function animate(){requestAnimationFrame(animate);var e=.001*performance.now();box.position.x=2*Math.cos(e/1.5),box.position.y=2*Math.sin(e),box.rotation.x=e,box.rotation.y=e/2,torus.position.x=2*Math.cos(e),torus.position.y=2*Math.sin(e/1.5),torus.rotation.x=e,torus.rotation.y=e/2,renderer.clear(),composer.render(e)}Detector.webgl||Detector.addGetWebGLMessage();var composer,renderer,box,torus;init(),animate();</script>
	

</body></html>