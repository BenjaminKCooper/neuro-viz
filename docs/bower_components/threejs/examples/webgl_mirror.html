<!DOCTYPE html><html lang="en"><head>
		<title>three.js webgl - mirror</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				color: #888888;
				font-family:Monospace;
				font-size:13px;

				background-color: #000;
				margin: 0px;
				overflow: hidden;
			}

			#info {
				position: absolute;
				top: 0px;
				width: 200px;
				left: calc(50% - 100px);
				text-align: center;
			}

			a {
				color: #00f;
			}
		</style>
	</head>
	<body>

		<div id="container"></div>
		<div id="info"><a href="http://threejs.org" target="_blank">three.js</a> - mirror
		</div>

		<script src="../build/three.js"></script>
		<script src="js/Mirror.js"></script>
		<script src="js/controls/OrbitControls.js"></script>

		<script>function init(){renderer=new THREE.WebGLRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(WIDTH,HEIGHT),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(VIEW_ANGLE,ASPECT,NEAR,FAR),camera.position.set(0,75,160),cameraControls=new THREE.OrbitControls(camera,renderer.domElement),cameraControls.target.set(0,40,0),cameraControls.maxDistance=400,cameraControls.minDistance=10,cameraControls.update();var e=document.getElementById("container");e.appendChild(renderer.domElement)}function fillScene(){var e=new THREE.PlaneBufferGeometry(100.1,100.1);groundMirror=new THREE.Mirror(renderer,camera,{clipBias:.003,textureWidth:WIDTH,textureHeight:HEIGHT,color:7829367});var r=new THREE.Mesh(e,groundMirror.material);r.add(groundMirror),r.rotateX(-Math.PI/2),scene.add(r),verticalMirror=new THREE.Mirror(renderer,camera,{clipBias:.003,textureWidth:WIDTH,textureHeight:HEIGHT,color:8952217});var a=new THREE.Mesh(new THREE.PlaneBufferGeometry(60,60),verticalMirror.material);a.add(verticalMirror),a.position.y=35,a.position.z=-45,scene.add(a),sphereGroup=new THREE.Object3D,scene.add(sphereGroup);var n=new THREE.CylinderGeometry(.1,15*Math.cos(Math.PI/180*30),.1,24,1),t=new THREE.MeshPhongMaterial({color:16777215,emissive:4473924}),o=new THREE.Mesh(n,t);o.position.y=-15*Math.sin(Math.PI/180*30)-.05,o.rotateX(-Math.PI);var n=new THREE.SphereGeometry(15,24,24,Math.PI/2,2*Math.PI,0,Math.PI/180*120),i=new THREE.Mesh(n,t);i.add(o),i.rotateX(-Math.PI/180*135),i.rotateZ(-Math.PI/180*20),i.position.y=7.5+15*Math.sin(Math.PI/180*30),sphereGroup.add(i);var n=new THREE.IcosahedronGeometry(5,0),t=new THREE.MeshPhongMaterial({color:16777215,emissive:3355443,shading:THREE.FlatShading});smallSphere=new THREE.Mesh(n,t),scene.add(smallSphere);var s=new THREE.Mesh(e,new THREE.MeshPhongMaterial({color:16777215}));s.position.y=100,s.rotateX(Math.PI/2),scene.add(s);var E=new THREE.Mesh(e,new THREE.MeshPhongMaterial({color:16777215}));E.position.z=-50,E.position.y=50,scene.add(E);var d=new THREE.Mesh(e,new THREE.MeshPhongMaterial({color:8355839}));d.position.z=50,d.position.y=50,d.rotateY(Math.PI),scene.add(d);var h=new THREE.Mesh(e,new THREE.MeshPhongMaterial({color:65280}));h.position.x=50,h.position.y=50,h.rotateY(-Math.PI/2),scene.add(h);var c=new THREE.Mesh(e,new THREE.MeshPhongMaterial({color:16711680}));c.position.x=-50,c.position.y=50,c.rotateY(Math.PI/2),scene.add(c);var M=new THREE.PointLight(13421772,1.5,250);M.position.y=60,scene.add(M);var l=new THREE.PointLight(65280,.25,1e3);l.position.set(550,50,0),scene.add(l);var H=new THREE.PointLight(16711680,.25,1e3);H.position.set(-550,50,0),scene.add(H);var p=new THREE.PointLight(8355839,.25,1e3);p.position.set(0,50,550),scene.add(p)}function render(){groundMirror.renderWithMirror(verticalMirror),verticalMirror.renderWithMirror(groundMirror),renderer.render(scene,camera)}function update(){requestAnimationFrame(update);var e=.01*Date.now();sphereGroup.rotation.y-=.002,smallSphere.position.set(30*Math.cos(.1*e),20*Math.abs(Math.cos(.2*e))+5,30*Math.sin(.1*e)),smallSphere.rotation.y=Math.PI/2-.1*e,smallSphere.rotation.z=.8*e,cameraControls.update(),render()}var WIDTH=window.innerWidth,HEIGHT=window.innerHeight,VIEW_ANGLE=45,ASPECT=WIDTH/HEIGHT,NEAR=1,FAR=500,camera,scene,renderer,cameraControls,verticalMirror,groundMirror,sphereGroup,smallSphere;init(),fillScene(),update();</script>
	

</body></html>