<!DOCTYPE html><html><head>
		<title>three.js css3d - sprites</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			html, body {
				height: 100%;
			}

			body {
				background-color: #ffffff;
				margin: 0;
				font-family: Arial;
				overflow: hidden;
			}

			a {
				color: #8888ff;
			}

			#info {
				position: absolute;
				width: 100%;
				color: #000000;
				padding: 5px;
				font-family: Monospace;
				font-size: 13px;
				font-weight: bold;
				text-align: center;
				z-index: 1;
			}
		</style>
	</head>
	<body>
		<script src="../build/three.js"></script>
		<script src="js/libs/tween.min.js"></script>
		<script src="js/controls/TrackballControls.js"></script>
		<script src="js/renderers/CSS3DRenderer.js"></script>

		<div id="container"></div>
		<div id="info"><a href="http://threejs.org" target="_blank">three.js css3d</a> - sprites.</div>

		<script>function init(){camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,1,5e3),camera.position.set(600,400,1500),camera.lookAt(new THREE.Vector3),scene=new THREE.Scene;var e=document.createElement("img");e.addEventListener("load",function(t){for(var n=0;n<particlesTotal;n++){var r=new THREE.CSS3DSprite(e.cloneNode());r.position.x=4e3*Math.random()-2e3,r.position.y=4e3*Math.random()-2e3,r.position.z=4e3*Math.random()-2e3,scene.add(r),objects.push(r)}transition()},!1),e.src="textures/sprite.png";for(var t=16,n=32,r=150,o=(t-1)*r/2,a=(n-1)*r/2,i=0;i<particlesTotal;i++){var s=i%t*r,c=Math.floor(i/t)*r,d=200*(Math.sin(.5*s)+Math.sin(.5*c));positions.push(s-o,d,c-a)}for(var l=8,r=150,p=(l-1)*r/2,i=0;i<particlesTotal;i++){var s=i%l*r,d=Math.floor(i/l%l)*r,c=Math.floor(i/(l*l))*r;positions.push(s-p,d-p,c-p)}for(var i=0;i<particlesTotal;i++)positions.push(4e3*Math.random()-2e3,4e3*Math.random()-2e3,4e3*Math.random()-2e3);for(var h=750,i=0;i<particlesTotal;i++){var m=Math.acos(-1+2*i/particlesTotal),w=Math.sqrt(particlesTotal*Math.PI)*m;positions.push(h*Math.cos(w)*Math.sin(m),h*Math.sin(w)*Math.sin(m),h*Math.cos(m))}renderer=new THREE.CSS3DRenderer,renderer.setSize(window.innerWidth,window.innerHeight),renderer.domElement.style.position="absolute",document.getElementById("container").appendChild(renderer.domElement),controls=new THREE.TrackballControls(camera,renderer.domElement),controls.rotateSpeed=.5,window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function transition(){for(var e=current*particlesTotal*3,t=2e3,n=0,r=e;n<particlesTotal;n++,r+=3){var o=objects[n];new TWEEN.Tween(o.position).to({x:positions[r],y:positions[r+1],z:positions[r+2]},Math.random()*t+t).easing(TWEEN.Easing.Exponential.InOut).start()}new TWEEN.Tween(this).to({},3*t).onComplete(transition).start(),current=(current+1)%4}function animate(){requestAnimationFrame(animate),TWEEN.update(),controls.update();for(var e=performance.now(),t=0,n=objects.length;t<n;t++){var r=objects[t],o=.3*Math.sin(.002*(Math.floor(r.position.x)+e))+1;r.scale.set(o,o,o)}renderer.render(scene,camera)}var camera,scene,renderer,controls,particlesTotal=512,positions=[],objects=[],current=0;init(),animate();</script>
	

</body></html>