<!DOCTYPE html><html lang="en"><head>
		<title>three.js webgl - clipIntersection</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				margin: 0px;
				background-color: #000000;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<script src="../build/three.js"></script>
		<script src="js/controls/OrbitControls.js"></script>
		<script src="js/libs/stats.min.js"></script>
		<script src="js/libs/dat.gui.min.js"></script>

		<script>function init(){camera=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,800),camera.position.set(-20,10,50),camera.lookAt(new THREE.Vector3(0,0,0)),scene=new THREE.Scene;var e=new THREE.HemisphereLight(16777147,526368,1);scene.add(e);var n=[new THREE.Plane(new THREE.Vector3(1,0,0),0),new THREE.Plane(new THREE.Vector3(0,-1,0),0),new THREE.Plane(new THREE.Vector3(0,0,-1),0)];scene.add(new THREE.AmbientLight(5263440)),group=new THREE.Object3D;for(var r=1;r<25;r++){var i=new THREE.SphereBufferGeometry(r/2,48,48),t=new THREE.MeshStandardMaterial({color:new THREE.Color(.5*Math.sin(.5*r)+.5,.5*Math.cos(1.5*r)+.5,.5*Math.sin(4.5*r+0)+.5),roughness:.95,metalness:0,side:THREE.DoubleSide,clippingPlanes:n,clipIntersection:!0});group.add(new THREE.Mesh(i,t))}scene.add(group);var a=document.body;renderer=new THREE.WebGLRenderer,renderer.antialias=!0,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),renderer.setClearColor(2236962),renderer.localClippingEnabled=!0,window.addEventListener("resize",onWindowResize,!1),a.appendChild(renderer.domElement),stats=new Stats,a.appendChild(stats.dom),mode={},mode.clipIntersection=!0,mode.clipPosition=0;var o=new dat.GUI;o.add(mode,"clipIntersection").onChange(function(){for(var e=group.children,n=0;n<e.length;n++){var r=e[n];r.material.clipIntersection=!r.material.clipIntersection}}),o.add(mode,"clipPosition",-16,16);var d=new THREE.OrbitControls(camera,renderer.domElement);d.target.set(0,1,0),d.update(),startTime=Date.now(),time=0}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function animate(){requestAnimationFrame(animate);for(var e=group.children,n=0;n<e.length;n++)for(var r=e[n].material,i=0;i<r.clippingPlanes.length;i++){var t=r.clippingPlanes[i];t.constant=(49*t.constant+mode.clipPosition)/50}stats.begin(),renderer.render(scene,camera),stats.end()}var camera,scene,renderer,group;init(),animate();</script>

	

</body></html>