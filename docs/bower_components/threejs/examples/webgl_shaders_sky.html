<!DOCTYPE html><html lang="en"><head>
		<title>three.js webgl - shaders - sky sun shader</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>

			body {
				color: #000;
				font-family:Monospace;
				font-size:13px;
				text-align:center;
				font-weight: bold;

				background-color: #fff;
				margin: 0px;
				overflow: hidden;
			}

			#info {
				color:#ccc;
				text-shadow: 1px 1px rgba(0,0,0,0.25);
				position: absolute;
				top: 0px; width: 100%;
				padding: 5px;

			}

			a {
				color: #fff;
			}

		</style>
	</head>
	<body>

		<div id="info"><a href="http://threejs.org" target="_blank">three.js</a> webgl - sky + sun shader

			<br><a href="https://plus.google.com/117614030945250277079/posts/MYkgKdvLhNj">More info</a> by <a href="http://twitter.com/blurspline">@blurspline</a>

		</div>

		<script src="../build/three.js"></script>

		<script src="js/controls/OrbitControls.js"></script>
		<script src="js/SkyShader.js"></script>

		<script src="js/Detector.js"></script>
		<script src="js/libs/dat.gui.min.js"></script>

		<script>function initSky(){function e(){var e=sky.uniforms;e.turbidity.value=n.turbidity,e.rayleigh.value=n.rayleigh,e.luminance.value=n.luminance,e.mieCoefficient.value=n.mieCoefficient,e.mieDirectionalG.value=n.mieDirectionalG;var r=Math.PI*(n.inclination-.5),a=2*Math.PI*(n.azimuth-.5);sunSphere.position.x=i*Math.cos(a),sunSphere.position.y=i*Math.sin(a)*Math.sin(r),sunSphere.position.z=i*Math.sin(a)*Math.cos(r),sunSphere.visible=n.sun,sky.uniforms.sunPosition.value.copy(sunSphere.position),renderer.render(scene,camera)}sky=new THREE.Sky,scene.add(sky.mesh),sunSphere=new THREE.Mesh(new THREE.SphereBufferGeometry(2e4,16,8),new THREE.MeshBasicMaterial({color:16777215})),sunSphere.position.y=-7e5,sunSphere.visible=!1,scene.add(sunSphere);var n={turbidity:10,rayleigh:2,mieCoefficient:.005,mieDirectionalG:.8,luminance:1,inclination:.49,azimuth:.25,sun:!1},i=4e5,r=new dat.GUI;r.add(n,"turbidity",1,20,.1).onChange(e),r.add(n,"rayleigh",0,4,.001).onChange(e),r.add(n,"mieCoefficient",0,.1,.001).onChange(e),r.add(n,"mieDirectionalG",0,1,.001).onChange(e),r.add(n,"luminance",0,2).onChange(e),r.add(n,"inclination",0,1,1e-4).onChange(e),r.add(n,"azimuth",0,1,1e-4).onChange(e),r.add(n,"sun").onChange(e),e()}function init(){camera=new THREE.PerspectiveCamera(60,window.innerWidth/window.innerHeight,100,2e6),camera.position.set(0,100,2e3),scene=new THREE.Scene;var e=new THREE.GridHelper(5e3,2,16777215,16777215);scene.add(e),renderer=new THREE.WebGLRenderer,renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),controls=new THREE.OrbitControls(camera,renderer.domElement),controls.addEventListener("change",render),controls.enableZoom=!1,controls.enablePan=!1,initSky(),window.addEventListener("resize",onWindowResize,!1)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight),render()}function render(){renderer.render(scene,camera)}Detector.webgl||Detector.addGetWebGLMessage();var container,camera,controls,scene,renderer,sky,sunSphere;init(),render();</script>

	


</body></html>