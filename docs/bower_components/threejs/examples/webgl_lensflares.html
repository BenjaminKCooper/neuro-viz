<!DOCTYPE html><html lang="en"><head>
		<title>three.js webgl - lensflares</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				background:#000;
				padding:0;
				margin:0;
				font-weight: bold;
				overflow:hidden;
			}
			#info {
				position: absolute;
				top: 10px; width: 100%;
				color: #ffffff;
				padding: 5px;
				font-family: Monospace;
				font-size: 13px;
				text-align: center;
				z-index:100;
			}

			a {
				color: orange;
				text-decoration: none;
			}

			a:hover {
				color: #0080ff;
			}
		</style>
	</head>

	<body>
		<div id="info">
			<a href="http://threejs.org" target="_blank">three.js</a> - lensflares -
			textures from <a href="http://ro.me">ro.me</a> - fly with WASD/RF/QE + mouse
		</div>

		<script src="../build/three.js"></script>

		<script src="js/controls/FlyControls.js"></script>

		<script src="js/libs/stats.min.js"></script>

		<script>function init(){function e(e,n,t,a,r,o){var i=new THREE.PointLight(16777215,1.5,2e3);i.color.setHSL(e,n,t),i.position.set(a,r,o),scene.add(i);var d=new THREE.Color(16777215);d.setHSL(e,n,t+.5);var E=new THREE.LensFlare(s,700,0,THREE.AdditiveBlending,d);E.add(l,512,0,THREE.AdditiveBlending),E.add(l,512,0,THREE.AdditiveBlending),E.add(l,512,0,THREE.AdditiveBlending),E.add(c,60,.6,THREE.AdditiveBlending),E.add(c,70,.7,THREE.AdditiveBlending),E.add(c,120,.9,THREE.AdditiveBlending),E.add(c,70,1,THREE.AdditiveBlending),E.customUpdateCallback=lensFlareUpdateCallback,E.position.copy(i.position),scene.add(E)}container=document.createElement("div"),document.body.appendChild(container),camera=new THREE.PerspectiveCamera(40,window.innerWidth/window.innerHeight,1,15e3),camera.position.z=250,controls=new THREE.FlyControls(camera),controls.movementSpeed=2500,controls.domElement=container,controls.rollSpeed=Math.PI/6,controls.autoForward=!1,controls.dragToLook=!1,scene=new THREE.Scene,scene.fog=new THREE.Fog(0,3500,15e3),scene.fog.color.setHSL(.51,.4,.01);for(var n=250,t=new THREE.BoxGeometry(n,n,n),a=new THREE.MeshPhongMaterial({color:16777215,specular:16777215,shininess:50}),r=0;r<3e3;r++){var o=new THREE.Mesh(t,a);o.position.x=8e3*(2*Math.random()-1),o.position.y=8e3*(2*Math.random()-1),o.position.z=8e3*(2*Math.random()-1),o.rotation.x=Math.random()*Math.PI,o.rotation.y=Math.random()*Math.PI,o.rotation.z=Math.random()*Math.PI,o.matrixAutoUpdate=!1,o.updateMatrix(),scene.add(o)}var i=new THREE.DirectionalLight(16777215,.05);i.position.set(0,-1,0).normalize(),scene.add(i),i.color.setHSL(.1,.7,.5);var d=new THREE.TextureLoader,s=d.load("textures/lensflare/lensflare0.png"),l=d.load("textures/lensflare/lensflare2.png"),c=d.load("textures/lensflare/lensflare3.png");e(.55,.9,.5,5e3,0,-1e3),e(.08,.8,.5,0,0,-1e3),e(.995,.5,.9,5e3,5e3,-1e3),renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),renderer.setClearColor(scene.fog.color),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),renderer.gammaInput=!0,renderer.gammaOutput=!0,stats=new Stats,container.appendChild(stats.dom),window.addEventListener("resize",onWindowResize,!1)}function lensFlareUpdateCallback(e){var n,t,a=e.lensFlares.length,r=2*-e.positionScreen.x,o=2*-e.positionScreen.y;for(n=0;n<a;n++)t=e.lensFlares[n],t.x=e.positionScreen.x+r*t.distance,t.y=e.positionScreen.y+o*t.distance,t.rotation=0;e.lensFlares[2].y+=.025,e.lensFlares[3].rotation=.5*e.positionScreen.x+THREE.Math.degToRad(45)}function onWindowResize(e){renderer.setSize(window.innerWidth,window.innerHeight),camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix()}function animate(){requestAnimationFrame(animate),render(),stats.update()}function render(){var e=clock.getDelta();controls.update(e),renderer.render(scene,camera)}var container,stats,camera,scene,renderer,clock=new THREE.Clock;init(),animate();</script>

	

</body></html>