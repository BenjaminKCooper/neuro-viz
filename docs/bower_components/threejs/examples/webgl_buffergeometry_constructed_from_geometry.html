<!DOCTYPE html><html lang="en"><head>
	<title>three.js - BufferGeometry constructed from Geometry Example</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
	<style>
		body {
			background-color: #000;
			font-family: Monospace;
			margin: 0;
			color: #000;
			overflow: hidden;
		}
		#title {
			position: absolute;
			width: 100%;
			top: 0;
			padding: 0;
			text-align: center;
			font-size: 1.1em;
			background-color: rgba(64,96,64,0.7);
			color: #fff;
		}
		#title a {color:#ff0;}
	</style>
	<script type="text/javascript" src="../build/three.js"></script>
	<script type="text/javascript" src="js/Detector.js"></script>
	<script type="text/javascript" src="js/libs/stats.min.js"></script>
	<script type="text/javascript" src="js/controls/TrackballControls.js"></script>
	</head>
	<body onload="app()">
		<div id="title"></div>
		<script>function app(){Detector.webgl||Detector.addGetWebGLMessage(),init(),animate()}function init(){renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setClearColor(0,0),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(renderer.domElement),scene=new THREE.Scene,camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,100,1500),camera.position.z=480,scene.add(new THREE.AmbientLight(4473924));var e=new THREE.DirectionalLight(10066329,.1);e.position.set(1,1,1),scene.add(e);var r=new THREE.DirectionalLight(10066329,1.5);r.position.set(0,-1,0),scene.add(r),controls=new THREE.TrackballControls(camera,renderer.domElement),controls.minDistance=100,controls.maxDistance=800,controls.dynamicDampingFactor=.1,stats=new Stats,document.body.appendChild(stats.dom),window.addEventListener("resize",onWindowResize,!1),createScene()}function createGeometry(){var e=new THREE.Shape,r=0,t=0;e.moveTo(r+25,t+25),e.bezierCurveTo(r+25,t+25,r+20,t,r,t),e.bezierCurveTo(r-30,t,r-30,t+35,r-30,t+35),e.bezierCurveTo(r-30,t+55,r-10,t+77,r+25,t+95),e.bezierCurveTo(r+60,t+77,r+80,t+55,r+80,t+35),e.bezierCurveTo(r+80,t+35,r+80,t,r+50,t),e.bezierCurveTo(r+35,t,r+25,t+25,r+25,t+25);var n={amount:16,bevelEnabled:!0,bevelSegments:1,steps:2,bevelSize:1,bevelThickness:1},a=new THREE.ExtrudeGeometry(e,n);return a.rotateX(-Math.PI/2),a.scale(.4,.4,.4),a}function createScene(){for(var e=new THREE.BufferGeometry,r=100,t=0,n=0,a=0,i=14,o=0;o<i/2;++o)for(var s=180*(o+0)/(i/2),c=180*(o+1)/(i/2),d=(s+c)/2,l=0;l<i;++l){var m=360*(l+0)/i,E=360*(l+1)/i,w=(m+E)/2,h=30,u=d*Math.PI/180,v=w*Math.PI/180,b=r*Math.sin(u)*Math.cos(v),T=r*Math.cos(u),f=r*Math.sin(u)*Math.sin(v),g=createGeometry();g.translate(0,h/2,0),g.rotateX(-Math.PI/2),g.lookAt(new THREE.Vector3(-b,-T,-f)),g.translate(b,T,f);var H=new THREE.Color(16777215);if(H.setHSL(d/180,1,.7),0===t){var p=i*i/2,R="BufferGeometry constructed from Geometry Example - "+parseInt(p*g.faces.length,10)+' triangles (<a target="_blank" href="http://callum.com">author</a>)';document.getElementById("title").innerHTML=R.replace(/\B(?=(\d{3})+(?!\d))/g,","),t=new Float32Array(p*g.faces.length*3*3),n=new Float32Array(p*g.faces.length*3*3),a=new Float32Array(p*g.faces.length*3*3)}g.faces.forEach(function(e,r){var s=(l+o*i)*g.faces.length+r;t[9*s+0]=g.vertices[e.a].x,t[9*s+1]=g.vertices[e.a].y,t[9*s+2]=g.vertices[e.a].z,t[9*s+3]=g.vertices[e.b].x,t[9*s+4]=g.vertices[e.b].y,t[9*s+5]=g.vertices[e.b].z,t[9*s+6]=g.vertices[e.c].x,t[9*s+7]=g.vertices[e.c].y,t[9*s+8]=g.vertices[e.c].z,n[9*s+0]=e.normal.x,n[9*s+1]=e.normal.y,n[9*s+2]=e.normal.z,n[9*s+3]=e.normal.x,n[9*s+4]=e.normal.y,n[9*s+5]=e.normal.z,n[9*s+6]=e.normal.x,n[9*s+7]=e.normal.y,n[9*s+8]=e.normal.z,a[9*s+0]=H.r,a[9*s+1]=H.g,a[9*s+2]=H.b,a[9*s+3]=H.r,a[9*s+4]=H.g,a[9*s+5]=H.b,a[9*s+6]=H.r,a[9*s+7]=H.g,a[9*s+8]=H.b})}e.addAttribute("position",new THREE.BufferAttribute(t,3)),e.addAttribute("normal",new THREE.BufferAttribute(n,3)),e.addAttribute("color",new THREE.BufferAttribute(a,3)),e.computeBoundingSphere();var y=new THREE.MeshPhongMaterial({color:10066329,specular:3355443,shininess:50,side:THREE.DoubleSide,vertexColors:THREE.VertexColors,shading:THREE.SmoothShading}),z=new THREE.Mesh(e,y);scene.add(z)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function animate(e){requestAnimationFrame(animate),controls.update(),stats.update(),renderer.render(scene,camera)}var camera,scene,renderer,controls,stats;</script>
	

</body></html>