<!DOCTYPE html><html lang="en"><head>
		<title>three.js webgl - geometries</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width,user-scalable=no,minimum-scale=1,maximum-scale=1">
		<style>
			body {
				font-family: Monospace;
				background-color: #000;
				margin: 0px;
				overflow: hidden;
			}
		</style>
	</head>
	<body>

		<script src="../build/three.js"></script>

		<script src="js/Detector.js"></script>

		<script>function init(){container=document.createElement("div"),document.body.appendChild(container),camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,2e3),camera.position.z=600,scene=new THREE.Scene;var e=createObject(createMultiMaterial(),1);e.position.set(-100,100,0),scene.add(e),objectNewGeometry=e,e=createObject(createMultiMaterial(),1),e.position.set(100,100,0),scene.add(e),objectToggleAddRemove=e,e=createObject(createMultiMaterial(),4),e.position.set(-100,-100,0),scene.add(e),objectRandomizeFaces=e,e=createObject(createMultiMaterial(),4),e.position.set(100,-100,0),scene.add(e),objectRandomizeMaterialIndices=e,renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(window.innerWidth,window.innerHeight),container.appendChild(renderer.domElement),window.addEventListener("resize",onWindowResize,!1)}function createObject(e,t){var a=createGeometry(t);return new THREE.Mesh(a,e)}function createGeometry(e){var t=new THREE.Matrix4,a=new THREE.Euler,n=new THREE.BoxGeometry(100,100,100,e,e,e);return n.applyMatrix(t.makeRotationFromEuler(a.set(2*Math.random()*Math.PI,2*Math.random()*Math.PI,2*Math.random()*Math.PI))),n}function createMultiMaterial(){var e=[new THREE.MeshBasicMaterial({color:16711680}),new THREE.MeshBasicMaterial({color:16776960}),new THREE.MeshBasicMaterial({color:65280}),new THREE.MeshBasicMaterial({color:65535}),new THREE.MeshBasicMaterial({color:255}),new THREE.MeshBasicMaterial({color:16711935})];return new THREE.MultiMaterial(e)}function onWindowResize(){camera.aspect=window.innerWidth/window.innerHeight,camera.updateProjectionMatrix(),renderer.setSize(window.innerWidth,window.innerHeight)}function animate(){setTimeout(animate,1e3),render()}function randomizeFaces(e){for(var t=e.geometry,a=t.faces,n=0,r=a.length;n<r;n++)a[n].a=Math.floor(Math.random()*t.vertices.length),a[n].b=Math.floor(Math.random()*t.vertices.length),a[n].c=Math.floor(Math.random()*t.vertices.length);t.elementsNeedUpdate=!0}function randomizeMaterialIndices(e){for(var t=e.geometry,a=t.faces,n=0,r=a.length;n<r;n++)a[n].materialIndex=Math.floor(6*Math.random());t.groupsNeedUpdate=!0}function render(){objectNewGeometry.geometry=createGeometry(1),scene.children.indexOf(objectToggleAddRemove)===-1?scene.add(objectToggleAddRemove):scene.remove(objectToggleAddRemove),randomizeFaces(objectRandomizeFaces),randomizeMaterialIndices(objectRandomizeMaterialIndices),renderer.render(scene,camera)}Detector.webgl||Detector.addGetWebGLMessage();var container,camera,scene,renderer,objectNewGeometry,objectToggleAddRemove,objectRandomizeFaces,objectRandomizeMaterialIndices;init(),animate();</script>

	

</body></html>